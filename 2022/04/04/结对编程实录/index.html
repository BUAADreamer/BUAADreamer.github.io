<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="baidu-site-verification" content="093lY4ziMu" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="description" content="A hexo theme">
    <meta name="keyword"  content="BUAADreamer, hexo-theme-snail">
    <link rel="shortcut icon" href="/img/ironman-draw.png">
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <!--<link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>-->
    <title>
        
          结对编程实录 - BUAADreamer&#39;s Blog
        
    </title>

    <link rel="canonical" href="https://BUAADreamer.top/2022/04/04/结对编程实录/">

    <!-- Bootstrap Core CSS -->
    
<link rel="stylesheet" href="/css/bootstrap.min.css">


    <!-- Custom CSS --> 
    
        
<link rel="stylesheet" href="/css/dusign-light.css">

        
<link rel="stylesheet" href="/css/dusign-common-light.css">

        
<link rel="stylesheet" href="/css/font-awesome.css">

        
<link rel="stylesheet" href="/css/toc.css">

        <!-- background effects end -->
    
    
    <!-- Pygments Highlight CSS -->
    
<link rel="stylesheet" href="/css/highlight.css">


    
<link rel="stylesheet" href="/css/widget.css">


    
<link rel="stylesheet" href="/css/rocket.css">


    
<link rel="stylesheet" href="/css/signature.css">


    
<link rel="stylesheet" href="/css/fonts.googleapis.css">


    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">

    <!-- photography -->
    
<link rel="stylesheet" href="/css/photography.css">


    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 4.2.1"></head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- background effects start -->
    
    <!-- background effects end -->

	<!-- Modified by Yu-Hsuan Yen -->
<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        
            
                background-image: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url('../../../../img/default.jpg')
                /*post*/
            
        
    }
    
    #signature{
        background-image: url('/img/signature/dusign.png');
    }
    
</style>

<header class="intro-header" >
    <!-- Signature -->
    <div id="signature">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                
                    <div class="post-heading">
                        <div class="tags">
                            
                              <a class="tag" href="/tags/#BUAA-SE-2022" title="BUAA-SE-2022">BUAA-SE-2022</a>
                            
                        </div>
                        <h1>结对编程实录</h1>
                        <h2 class="subheading"></h2>
                        <span class="meta">
                            Posted by BUAADreamer on
                            2022-04-04
                        </span>

                        
                            <div class="blank_box"></div>
                            <span class="meta">
                                Words <span class="post-count">10.4k</span> and
                                Reading Time <span class="post-count">42</span> Minutes
                            </span>
                            <div class="blank_box"></div>
                            <!-- 不蒜子统计 start -->
                            <span class="meta">
                                Viewed <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span> Times
                            </span>
                            <!-- 不蒜子统计 end -->
                        

                    </div>
                

                </div>
            </div>
        </div>      
    </div>

    
    <div class="waveWrapper">
        <div class="wave wave_before" style="background-image: url('/img/wave-light.png')"></div>
        <div class="wave wave_after" style="background-image: url('/img/wave-light.png')"></div>
    </div>
    
</header>

	
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">BUAADreamer&#39;s Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/archive/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/categories/">Categories</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/photography/">Photography</a>
                        </li>
                        
                    
                    
                    
                    <li>
                        <a href="https://www.cnblogs.com/BUAADreamer/" target="_blank">Chinese Blog</a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    <!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            
            <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <table>
<thead>
<tr>
<th>项目</th>
<th>内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>这个作业属于哪个课程</td>
<td><a href="https://bbs.csdn.net/forums/BH-SE" target="_blank" rel="noopener">2022春季软件工程（罗杰 任健）</a></td>
</tr>
<tr>
<td>这个作业的要求在哪里</td>
<td><a href="https://bbs.csdn.net/topics/605443466" target="_blank" rel="noopener">结对编程项目-最长英语单词链</a></td>
</tr>
<tr>
<td>我在这个课程的目标是</td>
<td>学习软工的项目合作管理知识，提升软件开发技术</td>
</tr>
<tr>
<td>这个作业在哪个具体方面帮助我实现目标</td>
<td>学习敏捷开发中的PSP与结对编程的思想并付诸实践</td>
</tr>
</tbody>
</table>
<h1><span id="part0-准备">Part0 准备</span></h1>
<h2><span id="1必要信息">1.必要信息</span></h2>
<p>教学班级：周二班</p>
<p>项目地址：<a href="https://github.com/BUAADreamer/Longest-English-word-chain" target="_blank" rel="noopener">https://github.com/BUAADreamer/Longest-English-word-chain</a></p>
<h2><span id="2psp开发时间估计">2.PSP开发时间估计</span></h2>
<table>
<thead>
<tr>
<th style="text-align:left">PSP2.1</th>
<th style="text-align:left">Personal Software Process Stages</th>
<th style="text-align:left">预估耗时（分钟）</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Planning</td>
<td style="text-align:left">计划</td>
<td style="text-align:left">90</td>
</tr>
<tr>
<td style="text-align:left">· Estimate</td>
<td style="text-align:left">· 估计这个任务需要多少时间</td>
<td style="text-align:left">90</td>
</tr>
<tr>
<td style="text-align:left">Development</td>
<td style="text-align:left">开发</td>
<td style="text-align:left">790</td>
</tr>
<tr>
<td style="text-align:left">· Analysis</td>
<td style="text-align:left">· 需求分析 (包括学习新技术)</td>
<td style="text-align:left">60</td>
</tr>
<tr>
<td style="text-align:left">· Design Spec</td>
<td style="text-align:left">· 生成设计文档</td>
<td style="text-align:left">30</td>
</tr>
<tr>
<td style="text-align:left">· Design Review</td>
<td style="text-align:left">· 设计复审 (和同事审核设计文档)</td>
<td style="text-align:left">30</td>
</tr>
<tr>
<td style="text-align:left">· Coding Standard</td>
<td style="text-align:left">· 代码规范 (为目前的开发制定合适的规范)</td>
<td style="text-align:left">10</td>
</tr>
<tr>
<td style="text-align:left">· Design</td>
<td style="text-align:left">· 具体设计</td>
<td style="text-align:left">60</td>
</tr>
<tr>
<td style="text-align:left">· Coding</td>
<td style="text-align:left">· 具体编码</td>
<td style="text-align:left">360</td>
</tr>
<tr>
<td style="text-align:left">· Code Review</td>
<td style="text-align:left">· 代码复审</td>
<td style="text-align:left">60</td>
</tr>
<tr>
<td style="text-align:left">· Test</td>
<td style="text-align:left">· 测试（自我测试，修改代码，提交修改）</td>
<td style="text-align:left">180</td>
</tr>
<tr>
<td style="text-align:left">Reporting</td>
<td style="text-align:left">报告</td>
<td style="text-align:left">100</td>
</tr>
<tr>
<td style="text-align:left">· Test Report</td>
<td style="text-align:left">· 测试报告</td>
<td style="text-align:left">60</td>
</tr>
<tr>
<td style="text-align:left">· Size Measurement</td>
<td style="text-align:left">· 计算工作量</td>
<td style="text-align:left">10</td>
</tr>
<tr>
<td style="text-align:left">· Postmortem &amp; Process Improvement Plan</td>
<td style="text-align:left">· 事后总结, 并提出过程改进计划</td>
<td style="text-align:left">30</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">合计</td>
<td style="text-align:left">980</td>
</tr>
</tbody>
</table>
<h1><span id="part1-设计">Part1 设计</span></h1>
<h2><span id="3看教科书和其它资料中关于-information-hidinginterface-designloose-coupling-的章节说明你们在结对编程中是如何利用这些方法对接口进行设计的">3.看教科书和其它资料中关于 Information Hiding，Interface Design，Loose Coupling 的章节，说明你们在结对编程中是如何利用这些方法对接口进行设计的</span></h2>
<h3><span id="information-hiding">Information Hiding</span></h3>
<h4><span id="多层设计中的层与层之间加入接口层">多层设计中的层与层之间加入接口层</span></h4>
<p>本次项目的接口层主要是顶层模块和各个模块的接口，使用了一个 <code>List&lt;string&gt; CmdTestInterface.Solve(string[] args)</code> 接口，只需要传递一个 参数字符串列表 <code>args</code>，即可返回最终得到的结果字符串列表</p>
<h4><span id="所有类与类之间都通过接口类访问">所有类与类之间都通过接口类访问</span></h4>
<p>此特点主要是通过 <code>CommandParser</code> 和 <code>Core</code> 之间的传递访问接口类 <code>ResultRes</code> 类进行传递</p>
<p>其中 <code>ParseRes</code> 类包含了允许成环，首尾字母，文件绝对路径字符串，最长的模式，命令字符串这些计算模块需要的数据。<code>ParseRes</code> 的实例既可以通过直接传给 <code>Core</code> 进行处理，也可以通过获得 <code>ParseRes</code> 类的数据进行传递来达到相同目的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">public class ParseRes</span><br><span class="line">&#123;</span><br><span class="line">    public bool enableLoop &#x3D; false;</span><br><span class="line">    public char start;</span><br><span class="line">    public char end;</span><br><span class="line">    public string absolutePathOfWordList &#x3D; &quot;&quot;;</span><br><span class="line">    public int mode &#x3D; 0; &#x2F;&#x2F;最长的模式 0表示单词数量 1表示字母个数</span><br><span class="line">    public HashSet&lt;char&gt; cmdChars;</span><br><span class="line">    public ParseRes(int mode, bool enableLoop, char start, char end, string absolutePathOfWordList, HashSet&lt;char&gt; cmdChars)</span><br><span class="line">    &#123;</span><br><span class="line">        this.enableLoop &#x3D; enableLoop;</span><br><span class="line">        this.mode &#x3D; mode;</span><br><span class="line">        this.start &#x3D; start;</span><br><span class="line">        this.end &#x3D; end;</span><br><span class="line">        this.absolutePathOfWordList &#x3D; absolutePathOfWordList;</span><br><span class="line">        this.cmdChars &#x3D; cmdChars;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4><span id="类的所有数据成员都是private所有访问都是通过访问函数实现的">类的所有数据成员都是private，所有访问都是通过访问函数实现的</span></h4>
<p>在计算核心模块中，所有的数据都是不可见的，对于外部其他模块来说，这些数据都不能直接访问，只能通过一些接口函数间接修改。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">public class CalcuCore</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;数据变量</span><br><span class="line">    private List&lt;string&gt; words;</span><br><span class="line">    private Hashtable graph;</span><br><span class="line">    private Hashtable inDegree;</span><br><span class="line">    private Hashtable word2len;</span><br><span class="line">    private char start;</span><br><span class="line">    private char end;</span><br><span class="line">    private bool enableLoop;</span><br><span class="line">    private int graphMode;</span><br><span class="line">    private int totalCharCount;</span><br><span class="line">    private int MAXLEN &#x3D; 20000;</span><br><span class="line">    private int chainCount;</span><br><span class="line">    </span><br><span class="line">    &#x2F;&#x2F;方法</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="interface-design">Interface Design</span></h3>
<p>本次项目我们和交换的小组定义了统一的四个 <code>c#</code> 函数接口，如下所示</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public static int gen_chain_word(List&lt;string&gt; words, List&lt;string&gt; result, char head, char tail, bool enable_loop)</span><br><span class="line"></span><br><span class="line">public static int gen_chains_all(List&lt;string&gt; words, List&lt;string&gt; result)</span><br><span class="line"></span><br><span class="line">public static int gen_chain_word_unique(List&lt;string&gt; words, List&lt;string&gt; result)</span><br><span class="line"></span><br><span class="line">public static int gen_chain_char(List&lt;string&gt; words, List&lt;string&gt; result, char head, char tail, bool enable_loop)</span><br></pre></td></tr></table></figure>
<p>这四个接口函数都符合单一职责原则和接口隔离原则，即四个接口的设计都首先是功能单一的，而且几乎不可再分，每一个接口函数如果拼凑就冗余，如果细分则显得太琐碎。</p>
<h3><span id="loose-coupling">Loose Coupling</span></h3>
<p>本次 <code>CLI</code> 主程序和 <code>GUI</code> 主程序，<code>Library</code>，<code>Core</code> 四个模块都是松耦合的，即每两个模块之间没有重复的部分。</p>
<p>可以用下图进行示意</p>
<img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-结对编程实录/loosecoupling.png" style="zoom: 67%;">
<p>即 <code>CLI</code> 和 <code>GUI</code> 都调用了 <code>Library</code> 和 <code>Core</code> 中的接口，而每个模块都只处理了自己那部分的事务，其他的功能通过接口调用实现。</p>
<h2><span id="4计算模块接口的设计与实现过程-设计包括代码如何组织比如会有几个类几个函数他们之间关系如何关键函数是否需要画出流程图说明你的算法的关键不必列出源代码以及独到之处">4.计算模块接口的设计与实现过程。设计包括代码如何组织，比如会有几个类，几个函数，他们之间关系如何，关键函数是否需要画出流程图？说明你的算法的关键（不必列出源代码），以及独到之处</span></h2>
<h3><span id="计算模块接口设计">计算模块接口设计</span></h3>
<p>由于阅读了后面阶段的要求，并且预先找到了互换模块的小组，所以我们设计了适用于 <code>C#</code> 的类似于官方接口的接口，接口中每个方法的功能，和官方接口同名方法的功能相同。</p>
<p>接口设计如下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">public static int gen_chain_word(List&lt;string&gt; words, List&lt;string&gt; result, char head, char tail, bool enable_loop);</span><br><span class="line"></span><br><span class="line">public static int gen_chains_all(List&lt;string&gt; words, List&lt;string&gt; result);</span><br><span class="line"></span><br><span class="line">public static int gen_chain_word_unique(List&lt;string&gt; words, List&lt;string&gt; result);</span><br><span class="line"></span><br><span class="line">public static int gen_chain_char(List&lt;string&gt; words, List&lt;string&gt; result, char head, char tail, bool enable_loop);</span><br></pre></td></tr></table></figure>
<p>我们将这些接口方法整合到了 <code>PairTestInterface</code> 中。在本地测试时，我们通过 <code>CmdTestInterface</code> 接口去驱动测试，调用 <code>PairTestInterface</code> 提供的接口，而 <code>PairTestInterface</code> 提供的接口调用 <code>CalcuCore</code> 中的具体计算方法。</p>
<p>计算部分的 UML 如下（<code>CalcuCore</code> 中的私有方法因为过多且无需外界关心，故没有列出）：</p>
<p><img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-%E7%BB%93%E5%AF%B9%E7%BC%96%E7%A8%8B%E5%AE%9E%E5%BD%95/UML.jpg" alt="UML"></p>
<p>接口方法的实现，实际上是首先通过参数去<strong>实例化 <code>CalcuCore</code> 类</strong>（这是我们真正的核心计算类），然后<strong>调用 <code>CalcuCore</code> 类中对应的真正的计算方法</strong> ，之后对返回的结果做<strong>异常处理</strong>，体现了<strong>层次化</strong>的思想。例如：</p>
<ul>
<li>对于<code>gen_chain_word</code> ，我们用给定的参数 <code>words</code>、<code>head</code>、<code>tail</code>、<code>enable_loop</code> 以及一些 <code>default</code> 参数（辅助建图）去实例化一个 <code>CalcuCore</code>，然后调用 <code>CalcuCore</code> 中的 <code>getMaxWordCountChain</code> 方法进行具体的计算。</li>
<li>对于 <code>CalcuCore</code> ：
<ul>
<li>其构造方法会使用 <code>gen_chain_word</code> 给定的参数，进行参数化建图。</li>
<li><code>getMaxWordCountChain </code> 首先会调用<strong>数据检查方法 <code>dataCheck</code></strong>，去检查数据中<strong>是否有隐含环</strong>以及<strong>是否允许在有环的情况下求解</strong>；如果数据中没有环，则调用<strong>重构图方法 <code>refactorGraph</code> 对图进行预处理</strong>，接着调用<strong>快速算法 <code>fastGetMaxWordCountChain</code></strong> 在 <code>DAG</code> 上跑 <code>dp</code> 求解；如果数据中<strong>有环</strong>，且<strong>要求在有环的情况下求解</strong>，则调用暴力算法 <code>trivialGetMaxWordCountChain</code> 求解最长链。</li>
</ul>
</li>
<li>对于异常：
<ul>
<li>主要是处理<strong>结果过长</strong>以及<strong>数据有环且不能求解</strong>这两种情况。</li>
</ul>
</li>
</ul>
<h3><span id="具体算法设计">具体算法设计</span></h3>
<p>首先，如果单词 <code>A</code> 的尾字母和单词 <code>B</code> 的首字母相同，则以 <code>A</code> 和 <code>B</code> 为结点，连接一条从 <code>A</code> 到 <code>B</code> 的有向边，在 $O(n^2)$ 的时间内建立一张有向图。其中 $n$ 是不同单词的种类数。有向图的边权我们并不关心，但是点权的设置要根据情况来：如果我们求解的最长链是以个数为指标，则点权为 1；如果是以字母数为指标，那么点权为单词的长度。</p>
<p>然后就是每个具体接口的求解算法：</p>
<p><code>gen_chain_word</code> 的求解算法主要是 <code>getMaxWordCountChain</code> ，而 <code>getMaxWordCountChain</code> 的算法分为两部分。如果图是一个有向无环图，那么可以使用动态规划求解：</p>
<ul>
<li><code>dp[word]</code> 表示 <code>word</code> 以 <code>word</code> 结尾的单词链的最长长度，<code>lastWord[word]</code> 表示以 <code>word</code> 结尾的最长链的前驱结点。</li>
<li>初始化 <code>dp[word]</code> 为 <code>word</code> 的点权，<code>lastWord[word]</code> 为空（即没有前驱）。</li>
<li>转移时，采用在拓扑排序的基础上进行状态转移的方式，假设 <code>A</code> 是 <code>B</code> 的前驱，那么 <code>dp[B] = max(dp[B], dp[A] + weight[B])</code>，其中 <code>weight[B]</code> 是 <code>B</code> 的点权。假如有 <code>dp[A] + weight[B] &gt; dp[B]</code>，那么还需要更新前驱，即 <code>lastWord[B] = A</code>。</li>
<li>最终统计答案时，需要看所有点的 <code>dp</code> 值，把最大的那个给记录下来，这就是最长链的长度。由于要求解出一条具体的链，所以还需要通过这条最长链的尾结点，根据 <code>lastWord</code> 去找到所有的前驱，重构出整条链。</li>
<li>上面的算法过程是假设了没有设置头结点的开头字母。倘若要求指定开头字母的最长链，那么需要先进行重构图操作：做一遍拓扑排序，每次把<strong>入度为 0 且开头字母不是指定字母</strong>的单词加入队列中，等到从队列中弹出时则将其彻底删除掉。这样做完之后，使用剩下的单词重构图，可以保证拓扑序并列第一大的结点都是以给定字母开头，这样可以在重构的图上执行上面几步的操作，即可求出结果。</li>
<li>时间复杂度为 $O(n^2 + m)$，$n$ 为重构前图的点数，$m$ 为重构后图的边数。</li>
<li>快速算法的流程图如图所示：<img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-%E7%BB%93%E5%AF%B9%E7%BC%96%E7%A8%8B%E5%AE%9E%E5%BD%95/fastGetMaxWordCountChain.jpg" alt="fastGetMaxWordCountChain"></li>
</ul>
<p>而如果图是一个有环图，那么则使用暴力求解：</p>
<ul>
<li>选择一个以给定字母开头的单词，调用 <code>getOneMaxWordCountChain</code> 方法，找到以该单词开头的最长链。在搜索的每一步判断结尾是否符合字母要求，如果符合要求就看能否更新当前的最长链以及长度。在实现 <code>getOneMaxWordCountChain</code>的时候为了加速计算，需要传递一些冗余的参数，比如当前最长链列表。</li>
<li>暴力算法的流程图如图所示：<img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-%E7%BB%93%E5%AF%B9%E7%BC%96%E7%A8%8B%E5%AE%9E%E5%BD%95/trivialGetMaxWordCountChain.jpg" alt="trivialGetMaxWordCountChain"></li>
</ul>
<p><code>gen_chain_char</code> 和 <code>gen_chain_word</code> 没有本质区别，二者调用的快速算法是同一个方法，暴力算法仅在更新长度时略有不同，故不再赘述。</p>
<p><code>gen_chain_all</code> 的求解算法是纯暴力搜索：</p>
<ul>
<li>
<p>枚举所有单词作为起点，然后以这个点开始 <code>dfs</code>，求出来以这个点为开头的所有链。</p>
</li>
<li>
<p>由于最终结果不允许超过 <code>20000</code> 字符，所以可以实时统计答案的字符数，超过 <code>20000</code> 就只搜索统计链的个数而不保存具体链的结果，防止内存消耗过大导致程序崩溃。要想在每个链上避免一些重复计算，则需要参数传递时好好考虑，比如传递当前链的时候应该传递最终的字符串而不是单词列表。</p>
</li>
<li>
<p>暴力算法过程大同小异，所以不再重复给出流程图。</p>
</li>
</ul>
<p><code>gen_chain_word_unique</code> 的求解我们组没有按照是否为有向无环图进行分类，因为我们在讨论的时候不确定线性算法的正确性，且在和其他组互测的过程中发现其他组的线性算法似乎存在一定的问题，所以最后统一使用了暴力搜索：</p>
<ul>
<li>枚举所有单词作为起点，然后以这个点开始 <code>dfs</code>，需要维护当前的首字母集合，保证在转移的时候不能转移到重复的首字母的单词。</li>
<li>由于要随时更新已经求得的最长链，所以要把已经求得的最长链作为参数传递下去。</li>
<li>暴力算法大同小异，所以不再重复给出流程图。</li>
</ul>
<p><code>CalcuCore</code> 中方法之间的调用关系示意图如图所示：</p>
<p><img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-%E7%BB%93%E5%AF%B9%E7%BC%96%E7%A8%8B%E5%AE%9E%E5%BD%95/function_relation.jpg" alt="function_relation"></p>
<p>其中，<code>A -&gt; B</code> 意味着方法 <code>A</code> 调用方法 <code>B</code>。</p>
<p>在性能方面：</p>
<ul>
<li>我们最开始的打算便是所有的求解都复用核心计算函数 <code>getAllWordChain</code>，使用该方法找到所有单词链，最后把合法链挑出来，统计想要计算的结果即可。这样实现的后果是<strong>随手复制英语文章中的两句话都未必能在程序崩溃之前跑出结果</strong>。</li>
<li>在测好了暴力求解之后，我们发现了<strong>有向无环图</strong>具有优良的性质，可以<strong>按照拓扑序从前往后递推</strong>计算很多信息，所以我们针对 <code>-w</code> 和 <code>-c</code> 进行了建图后拓扑排序 + 动态规划求解不带环的部分。但对于指定 <code>-h</code> 参数，最开始我们没有想到很好的方案。</li>
<li>后来，我们发现了 <code>-h</code> 的部分可以额外用一遍拓扑排序删去没用但是拓扑序比较靠前的单词，这样得到的新的图就又可以动态规划求解了，所以我们编写了重新建图方法来扩大上面想到的算法的适用范围。至此，<code>-w</code> 和 <code>-c</code> 参数搭配 <code>-h</code> 和 <code>-t</code> 参数，且数据无环时都可以快速求解。</li>
<li>最后，我们对每种问题的暴力方法根据题目的不同去单独编写：对于 <code>-w</code>，<code>-c</code>，<code>-m</code>，其暴力算法无需保所有的链，所以只需要维护当前链以及已经找到的最长链即可；对于 <code>-n</code>，由于题目要求求出所有的链，但是又要求输出长度不能超过 <code>20000</code>，所以我们在保存链的同时维护了当前结果的长度，如果超过 <code>20000</code> 字符则只统计链的个数，而不保存链，这样就能较好地避免因为链太多导致内存空间消耗过多。</li>
<li>最后的最后，说下没有优化的 <code>-m</code>。我们注意到有别的组的同学使用动态规划了来解决，但是和他们对拍时发现了他们似乎存在 bug ，且我们组内两人也不确定这是不是假算法，于是就没优化这个部分，所以我们 <code>-m</code> 的求解性能可能相比其他同学要差一些。</li>
</ul>
<h2><span id="5阅读有关-uml-的内容画出-uml-图显示计算模块部分各个实体之间的关系画一个图即可">5.阅读有关 UML 的内容，画出 UML 图显示计算模块部分各个实体之间的关系（画一个图即可）</span></h2>
<p>之前第四部分已经展示过一个UML图大致表现从顶层模块到底层模块的调用关系，这里再仔细展示一下 <code>Core</code> 模块内部的4个类的调用关系，由于本次项目需求并不复杂，因此只使用了一个 <code>CalcuCore</code> 类进行主要的计算逻辑书写，而在计算过程中遇到的异常则进行抛出。内部有几个公共方法供互测接口调用。</p>
<p><img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-%E7%BB%93%E5%AF%B9%E7%BC%96%E7%A8%8B%E5%AE%9E%E5%BD%95/Core.png" alt="UML"></p>
<h1><span id="part2-编码与测试">Part2 编码与测试</span></h1>
<h2><span id="6计算模块接口部分的性能改进-记录在改进计算模块性能上所花费的时间描述你改进的思路并展示一张性能分析图由vs-2019的性能分析工具自动生成并展示你程序中消耗最大的函数">6.计算模块接口部分的性能改进。记录在改进计算模块性能上所花费的时间，描述你改进的思路，并展示一张性能分析图（由VS 2019的性能分析工具自动生成），并展示你程序中消耗最大的函数。</span></h2>
<p>整个性能调优和回归测试上总计花了约 5 小时，调优前：</p>
<p><img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-%E7%BB%93%E5%AF%B9%E7%BC%96%E7%A8%8B%E5%AE%9E%E5%BD%95/before_optimize.jpg" alt="before_optimize"></p>
<p>优化后：</p>
<p><img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-%E7%BB%93%E5%AF%B9%E7%BC%96%E7%A8%8B%E5%AE%9E%E5%BD%95/after_optimize.png" alt="after_optimize"></p>
<p>可见优化后只有过于暴力（实际上也只能暴力）的 <code>gen_chain_all</code> 占用 CPU 仍然很高。</p>
<p>优化后几百个随机单词的有向无环图可以秒出 <code>-w</code>、<code>-c</code>，几十个随机单词的 <code>-r</code> 在对拍时也可以在三五秒之内算出结果。</p>
<h2><span id="7看-design-by-contractcode-contract-的内容并描述这些做法的优缺点说明你是如何把它们融入结对作业中的">7.看 Design by Contract，Code Contract 的内容，并描述这些做法的优缺点，说明你是如何把它们融入结对作业中的。</span></h2>
<p>Design by Contract，即契约式设计，在此方面的杰出代表是Eiffel语言，<code>Java</code> 中的 <code>JML</code> 也是契约式设计的具体实例。其中用到的涉及到规则约束和编译检查相关的部分被称为Code Contract</p>
<p>简单来说就是每个类或者实体方法都需要满足某种前置条件，后置条件和不变式以及其他的状态约束条件，这对于代码的状态有了一个很好的描述。</p>
<p>本次作业虽然我们没有明确的用这种思想编程，即严格规定每个方法和类的三种状态约束条件，但是在设计 <code>CalcuCore</code> 类时还是确立了在实例化类之前并没有图的建立，实例化之后建立了图结构，而之后在各个函数内部默认前置条件是已经建立了图，不变式为处理的过程不能破坏已有结构图，且始终需要保证是否符合数据约束，后置条件为返回值需要确保是正确结果。<code>Library</code> 中也有类似的函数设计</p>
<h2><span id="8计算模块部分单元测试展示-展示出项目部分单元测试代码并说明测试的函数构造测试数据的思路-并将单元测试得到的测试覆盖率截图发表在博客中-要求总体覆盖率到-90-以上否则单元测试部分视作无效">8.计算模块部分单元测试展示。展示出项目部分单元测试代码，并说明测试的函数，构造测试数据的思路。并将单元测试得到的测试覆盖率截图，发表在博客中。要求总体覆盖率到 90% 以上，否则单元测试部分视作无效。</span></h2>
<p>本次项目我们用两种方式进行测试，一种是 <code>visual studio</code> 内部进行单元测试，另一种是使用 <code>WordList.exe</code> 接口在本地进行大量数据对拍测试。</p>
<h3><span id="单元测试">单元测试</span></h3>
<p>本次项目我们建立了四个单元测试类分别对四个主要模块进行测试</p>
<p><img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-%E7%BB%93%E5%AF%B9%E7%BC%96%E7%A8%8B%E5%AE%9E%E5%BD%95/test1.png" alt></p>
<p>总的来说，单元测试采用局部和整体两部分测试逻辑。</p>
<h4><span id="局部测试">局部测试</span></h4>
<p>局部的测试主要针对于特定的类的方法进行测试，对于四个接口函数进行单独的样例测试，示例代码如下。数据主要是制造量少但是可以直接看出正确结果的典型数据。力求对输入输出和计算类，异常类中各个函数都有基本的正确性测试检验</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">public void CoreTest5()</span><br><span class="line">&#123;</span><br><span class="line">    List&lt;string&gt; words &#x3D; new List&lt;string&gt;() &#123; &quot;gbps&quot;, &quot;generate&quot;, &quot;google&quot;, </span><br><span class="line">                                             &quot;growing&quot;, &quot;handle&quot;, &quot;handling&quot;, &quot;hardware&quot;, &quot;has&quot;&#125;;</span><br><span class="line">    List&lt;string&gt; res &#x3D; new List&lt;string&gt;();</span><br><span class="line">    PairTestInterface.gen_chains_all(words, res);</span><br><span class="line">    Assert.AreEqual(res.Count, 10);</span><br><span class="line"></span><br><span class="line">    res &#x3D; new List&lt;string&gt;();</span><br><span class="line">    PairTestInterface.gen_chain_word(words, res, &#39;g&#39;, &#39;e&#39;, true);</span><br><span class="line">    Assert.AreEqual(res.Count, 2);</span><br><span class="line"></span><br><span class="line">    res &#x3D; new List&lt;string&gt;();</span><br><span class="line">    PairTestInterface.gen_chain_word_unique(words, res);</span><br><span class="line">    Assert.AreEqual(res.Count, 2);</span><br><span class="line"></span><br><span class="line">    res &#x3D; new List&lt;string&gt;();</span><br><span class="line">    PairTestInterface.gen_chain_char(words, res, &#39;i&#39;, &#39;e&#39;, true);</span><br><span class="line">    Assert.AreEqual(res.Count, 0);</span><br><span class="line"></span><br><span class="line">    res &#x3D; new List&lt;string&gt;();</span><br><span class="line">    PairTestInterface.gen_chain_char(words, res, &#39;h&#39;, &#39;t&#39;, false);</span><br><span class="line">    Assert.AreEqual(res.Count, 0);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public void InputTest1()</span><br><span class="line">&#123;</span><br><span class="line">    string[] args &#x3D; &#123; &quot;-w&quot; ,&quot;-t&quot;,&quot;a&quot;&#125;;</span><br><span class="line">    CommandParser commandParser &#x3D; new CommandParser(args);</span><br><span class="line">    ParseRes parseRes &#x3D; commandParser.getParseRes();</span><br><span class="line">    Assert.AreEqual(parseRes.mode,1);</span><br><span class="line">    Assert.AreEqual(parseRes.end, &#39;a&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4><span id="整体测试">整体测试</span></h4>
<p>整体测试主要是强调将整个预处理到计算的流程完整性，采用大量数据进行测试。由于这样的情况下并无法手动确定出正确结果，因此采用了对拍这一思路，使用和我们组在第四阶段交换的小组的 <code>Core.dll</code> 引入进行测试。具体在测试时调用了如下方法 <code>TestOneSample</code> 方法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">public void TestOneSample(String[] args)</span><br><span class="line">&#123;</span><br><span class="line">    List&lt;string&gt; res;</span><br><span class="line">    List&lt;string&gt; res1;</span><br><span class="line">    int a &#x3D; 0;</span><br><span class="line">    try </span><br><span class="line">    &#123; </span><br><span class="line">        res &#x3D; CmdTestInterface.testOneSample(args);</span><br><span class="line">    &#125;</span><br><span class="line">    catch(Exception e)</span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(e.Message);</span><br><span class="line">        a &#x3D; 1;</span><br><span class="line">        try</span><br><span class="line">        &#123;</span><br><span class="line">            res1 &#x3D; TestOneSampleByOther(args);</span><br><span class="line">        &#125;</span><br><span class="line">        catch (Exception e1)</span><br><span class="line">        &#123;</span><br><span class="line">            a &#x3D; 2;</span><br><span class="line">            Console.WriteLine(e1.Message);</span><br><span class="line">        &#125;</span><br><span class="line">        Assert.AreEqual(2, a);</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    try</span><br><span class="line">    &#123;</span><br><span class="line">        res1 &#x3D; TestOneSampleByOther(args);</span><br><span class="line">        Assert.AreEqual(res.Count, res1.Count);</span><br><span class="line">    &#125;</span><br><span class="line">    catch (Exception e)</span><br><span class="line">    &#123;</span><br><span class="line">        a &#x3D; 1;</span><br><span class="line">        printArgs(args);</span><br><span class="line">        Assert.AreEqual(2, a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其中 <code>CmdTestInterface.testOneSample</code> 方法是我们定义的一个顶层接口，输入参数列表，返回字符串列表形式的结果。<code>TestOneSampleByOther</code> 则是调用交换的小组的 <code>core</code> 进行计算逻辑，而其他的输入输出使用我们自己的代码进行处理。这两个函数都运行之后，将得到的两个结果进行比较即可判定整体的正确性。即类似计算机网络中的 <code>ping</code> 通，一旦可以跑完就说明整个流程都是正确的。</p>
<p>数据生成上主要包含回归测试和指令组合覆盖性测试。对于每一个文件都使用四层循环遍历所有可能的两两指令组合以及首尾字母组合，覆盖性测试代码如下。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">public void CoreTest2()</span><br><span class="line">&#123;</span><br><span class="line">    int testNum &#x3D; 5;</span><br><span class="line">    String baseFile &#x3D; &quot;C:&#x2F;Users&#x2F;fzc&#x2F;source&#x2F;repos&#x2F;Longest-English-word-chain&#x2F;Longest-English-word-chain&#x2F;TestFile&#123;0&#125;.txt&quot;;</span><br><span class="line">    String testFile &#x3D; String.Format(baseFile,testNum);</span><br><span class="line">    for (int j &#x3D; 0; j &lt; 26; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        for(int k &#x3D; 0; k &lt; 26; k++)</span><br><span class="line">        &#123;</span><br><span class="line">            String head &#x3D; (&#39;a&#39; + j).ToString();</span><br><span class="line">            String tail &#x3D; (&#39;a&#39; + k).ToString();</span><br><span class="line">            foreach (char c1 in validCmdChars)</span><br><span class="line">            &#123;</span><br><span class="line">                ArrayList argList &#x3D; new ArrayList() &#123; &quot;-&quot; + c1 &#125;;</span><br><span class="line">                if (c1 &#x3D;&#x3D; &#39;t&#39;) argList.Add(tail);</span><br><span class="line">                if (c1 &#x3D;&#x3D; &#39;h&#39;) argList.Add(head);</span><br><span class="line">                argList.Add(&quot;&quot;);</span><br><span class="line">                for (int i &#x3D; 1; i &lt;&#x3D; testNum; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                    testFile &#x3D; String.Format(baseFile, i);</span><br><span class="line">                    argList[argList.Count - 1] &#x3D; testFile;</span><br><span class="line">                    TestOneSample(getArgs(argList));</span><br><span class="line">                &#125;</span><br><span class="line">                foreach (char c2 in validCmdChars)</span><br><span class="line">                &#123;</span><br><span class="line">                    argList &#x3D; new ArrayList() &#123; &quot;-&quot; + c1 &#125;;</span><br><span class="line">                    if (c1 &#x3D;&#x3D; &#39;t&#39;) argList.Add(tail);</span><br><span class="line">                    if (c1 &#x3D;&#x3D; &#39;h&#39;) argList.Add(head);</span><br><span class="line">                    argList.Add(&quot;-&quot; + c2);</span><br><span class="line">                    if (c2 &#x3D;&#x3D; &#39;t&#39;) argList.Add(tail);</span><br><span class="line">                    if (c2 &#x3D;&#x3D; &#39;h&#39;) argList.Add(head);</span><br><span class="line">                    argList.Add(&quot;&quot;);</span><br><span class="line">                    for (int i &#x3D; 1; i &lt;&#x3D; testNum; i++)</span><br><span class="line">                    &#123;</span><br><span class="line">                        testFile &#x3D; String.Format(baseFile, i);</span><br><span class="line">                        argList[argList.Count - 1] &#x3D; testFile;</span><br><span class="line">                        TestOneSample(getArgs(argList));</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    Console.WriteLine(correctNum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4><span id="单元测试结果展示">单元测试结果展示</span></h4>
<p><img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-%E7%BB%93%E5%AF%B9%E7%BC%96%E7%A8%8B%E5%AE%9E%E5%BD%95/test2.png" alt></p>
<p>可以看到每个模块的单元测试覆盖率都达到了90%以上，总体覆盖率为96%，这个过程也确实发现了自己和交换小组的很多bug，效果还是较好的。</p>
<h3><span id="本地cli对拍">本地CLI对拍</span></h3>
<p>本地 CLI 对拍主要是使用我们的 <code>me.exe</code>和小组的 <code>other.exe</code> 对正确性部分进行随机数据测试。这部分并不属于单元测试，但因为我们做了，所以这里也介绍一下。</p>
<p>对拍主要编写了 <code>test.cpp</code> 和 <code>create.cpp</code> 两个文件。</p>
<p><code>test.cpp</code> 负责驱动对拍以及检查答案：</p>
<ul>
<li>编译一遍数据生成脚本 <code>create.cpp</code>。</li>
<li>执行 <code>create.exe</code>，并把输出的数据重定向到 <code>in.txt</code>。</li>
<li>随机从参数池中生成一组<strong>合法命令行参数</strong>：
<ul>
<li>首先是从 <code>-n</code>，<code>-m</code>，<code>-w</code>，<code>-c</code> 中随机选择一个作为<strong>主参数</strong>。</li>
<li>然后根据参数的自身限制，随机生成其他可以组合的<strong>辅参数</strong>。</li>
</ul>
</li>
<li>执行 <code>me.exe</code> 和 <code>other.exe</code>，将输出的内容写到各自的输出文件中。</li>
<li>比较结果的一致性，我使用的判定方法都比较简单：
<ul>
<li>对于 <code>-n</code>，只看第一行的个数是否一样。</li>
<li>对于 <code>-m</code> 和 <code>-w</code>，只看输出的单词行数以及首尾字母。</li>
<li>对于 <code>-c</code>，看首尾字母，并计算字符个数，比对是否一致。</li>
</ul>
</li>
</ul>
<p><code>create.cpp</code> 的负责数据生成，由于时间紧张，所以只生成了两类特殊的随机数据：</p>
<ul>
<li>纯随机单词数据的生成策略：每次随机从可见字符里面输出一串字符。根据被测程序的性能，可以控制输出字符串的长度。</li>
<li>有向无环图生成策略：考虑按顺序枚举首字母从 <code>a</code> 到 <code>z</code>，假设当前枚举到首字母为 <code>ch</code>，则可以生成随机个数的以 <code>ch</code> 为开头的单词，且这些单词的<strong>尾字母必须字典序比 <code>ch</code> 大</strong>，这样保证生成出来的数据不能往之前生成的单词连有向边，所以生成的数据就是有向无环图。</li>
</ul>
<p>对拍时，我们组发现的自己的 bug 有：</p>
<ul>
<li>最长单词链算法中单个单词也误当作链了。</li>
<li><code>-n</code> 时没有输出到 <code>stdout</code> 。</li>
<li>性能调优过程中出现的算法错误。</li>
</ul>
<p>我们组发现的别的组的 bug 有：</p>
<ul>
<li>最长单词链算法中单个单词也误当作链了。</li>
<li><code>-m</code> 算法错误。</li>
<li><code>-c</code> 最长链算出来不是最长的。</li>
</ul>
<p><s>OO 互测既视感</s>。</p>
<h2><span id="9计算模块部分异常处理说明-在博客中详细介绍每种异常的设计目标-每种异常都要选择一个单元测试样例发布在博客中并指明错误对应的场景">9.计算模块部分异常处理说明。在博客中详细介绍每种异常的设计目标。每种异常都要选择一个单元测试样例发布在博客中，并指明错误对应的场景。</span></h2>
<p>本次项目主要确定了5种异常并进行测试。描述和测试样例如下：</p>
<h3><span id="错误的参数-commandinvalidexception">错误的参数 CommandInvalidException</span></h3>
<h4><span id="描述">描述</span></h4>
<ul>
<li>没有指定主参数，即 <code>n/w/m/c</code> 至少出现一个</li>
<li>文件参数没有放在最后的位置</li>
<li>出现非法字符（出现了<code>- n</code>这样的横线没有和字母连起来的情况或者其他非法字符）</li>
</ul>
<h4><span id="测试">测试</span></h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">public void CommandInvalidExceptionTest()</span><br><span class="line">&#123;</span><br><span class="line">    string[] args &#x3D; &#123; &quot;-n&quot;, &quot;t&quot;, &quot;C:&#x2F;Users&#x2F;fzc&#x2F;source&#x2F;repos&#x2F;Longest-English-word-chain&#x2F;Longest-English-word-chain&#x2F;TestFile1.txt&quot; &#125;;</span><br><span class="line">    int ans &#x3D; 0;</span><br><span class="line">    try</span><br><span class="line">    &#123;</span><br><span class="line">        CmdTestInterface.testOneSample(args);</span><br><span class="line">    &#125;</span><br><span class="line">    catch (CommandInvalidException e)</span><br><span class="line">    &#123;</span><br><span class="line">        ans &#x3D; 1;</span><br><span class="line">        Console.WriteLine(e.Message);</span><br><span class="line">    &#125;</span><br><span class="line">    Assert.AreEqual(1, ans);</span><br><span class="line"></span><br><span class="line">    args &#x3D; new string[] &#123; &quot;-n&quot;, &quot;-!&quot;, &quot;C:&#x2F;Users&#x2F;fzc&#x2F;source&#x2F;repos&#x2F;Longest-English-word-chain&#x2F;Longest-English-word-chain&#x2F;TestFile2.txt&quot; &#125;;</span><br><span class="line">    ans &#x3D; 0;</span><br><span class="line">    try</span><br><span class="line">    &#123;</span><br><span class="line">        CmdTestInterface.testOneSample(args);</span><br><span class="line">    &#125;</span><br><span class="line">    catch (CommandInvalidException e)</span><br><span class="line">    &#123;</span><br><span class="line">        ans &#x3D; 1;</span><br><span class="line">        Console.WriteLine(e.Message);</span><br><span class="line">    &#125;</span><br><span class="line">    Assert.AreEqual(1, ans);</span><br><span class="line"></span><br><span class="line">    args &#x3D; new string[] &#123; &quot;-r&quot;, &quot;C:&#x2F;Users&#x2F;fzc&#x2F;source&#x2F;repos&#x2F;Longest-English-word-chain&#x2F;Longest-English-word-chain&#x2F;TestFile2.txt&quot; &#125;;</span><br><span class="line">    ans &#x3D; 0;</span><br><span class="line">    try</span><br><span class="line">    &#123;</span><br><span class="line">        CmdTestInterface.testOneSample(args);</span><br><span class="line">    &#125;</span><br><span class="line">    catch (CommandInvalidException e)</span><br><span class="line">    &#123;</span><br><span class="line">        ans &#x3D; 1;</span><br><span class="line">        Console.WriteLine(e.Message);</span><br><span class="line">    &#125;</span><br><span class="line">    Assert.AreEqual(1, ans);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="错误的参数组合-commandcomplexexception">错误的参数组合 CommandComplexException</span></h3>
<h4><span id="描述">描述</span></h4>
<p>两两参数冲突如下</p>
<table>
<thead>
<tr>
<th></th>
<th>-n</th>
<th>-w</th>
<th>-m</th>
<th>-c</th>
<th>-h</th>
<th>-t</th>
<th>-r</th>
</tr>
</thead>
<tbody>
<tr>
<td>-n</td>
<td>×</td>
<td>×</td>
<td>×</td>
<td>×</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>-w</td>
<td>×</td>
<td>×</td>
<td>×</td>
<td>×</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>-m</td>
<td>×</td>
<td>×</td>
<td>×</td>
<td>×</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
<tr>
<td>-c</td>
<td>×</td>
<td>×</td>
<td>×</td>
<td>×</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>-h</td>
<td>×</td>
<td></td>
<td>×</td>
<td></td>
<td>×</td>
<td></td>
<td></td>
</tr>
<tr>
<td>-t</td>
<td>×</td>
<td></td>
<td>×</td>
<td></td>
<td></td>
<td>×</td>
<td></td>
</tr>
<tr>
<td>-r</td>
<td>×</td>
<td></td>
<td>×</td>
<td></td>
<td></td>
<td></td>
<td>×</td>
</tr>
</tbody>
</table>
<p>上表中打 <code>×</code> 的位置说明两者是冲突的</p>
<h4><span id="测试">测试</span></h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">public void CommandComplexExceptionTest()</span><br><span class="line">&#123;</span><br><span class="line">    string[] args &#x3D; &#123; &quot;-n&quot;,&quot;-n&quot;, &quot;C:&#x2F;Users&#x2F;fzc&#x2F;source&#x2F;repos&#x2F;Longest-English-word-chain&#x2F;Longest-English-word-chain&#x2F;TestFile1.txt&quot; &#125;;</span><br><span class="line">    int ans &#x3D; 0;</span><br><span class="line">    try</span><br><span class="line">    &#123;</span><br><span class="line">        CmdTestInterface.testOneSample(args);</span><br><span class="line">    &#125;</span><br><span class="line">    catch (CommandComplexException e)</span><br><span class="line">    &#123;</span><br><span class="line">        ans &#x3D; 1;</span><br><span class="line">        Console.WriteLine(e.Message);</span><br><span class="line">    &#125;</span><br><span class="line">    Assert.AreEqual(1, ans);</span><br><span class="line"></span><br><span class="line">    args &#x3D; new string[] &#123; &quot;-n&quot;, &quot;-m&quot;, &quot;C:&#x2F;Users&#x2F;fzc&#x2F;source&#x2F;repos&#x2F;Longest-English-word-chain&#x2F;Longest-English-word-chain&#x2F;TestFile2.txt&quot; &#125;;</span><br><span class="line">    ans &#x3D; 0;</span><br><span class="line">    try</span><br><span class="line">    &#123;</span><br><span class="line">        CmdTestInterface.testOneSample(args);</span><br><span class="line">    &#125;</span><br><span class="line">    catch (CommandComplexException e)</span><br><span class="line">    &#123;</span><br><span class="line">        ans &#x3D; 1;</span><br><span class="line">        Console.WriteLine(e.Message);</span><br><span class="line">    &#125;</span><br><span class="line">    Assert.AreEqual(1, ans);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="错误的文件格式-fileinvalidexception">错误的文件格式 FileInvalidException</span></h3>
<h4><span id="描述">描述</span></h4>
<ul>
<li>没有以 <code>.txt</code> 结尾</li>
<li>文件不存在</li>
</ul>
<h4><span id="测试">测试</span></h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">public void FileInvalidExceptionTest()</span><br><span class="line">&#123;</span><br><span class="line">    string[] args &#x3D; &#123; &quot;-n&quot;, &quot;C:&#x2F;Users&#x2F;fzc&#x2F;source&#x2F;repos&#x2F;Longest-English-word-chain&#x2F;Longest-English-word-chain&quot; &#125;;</span><br><span class="line">    int ans &#x3D; 0;</span><br><span class="line">    try</span><br><span class="line">    &#123;</span><br><span class="line">        CmdTestInterface.testOneSample(args);</span><br><span class="line">    &#125;</span><br><span class="line">    catch(FileInvalidException e)</span><br><span class="line">    &#123;</span><br><span class="line">        ans &#x3D; 1;</span><br><span class="line">        Console.WriteLine(e.Message);</span><br><span class="line">    &#125;</span><br><span class="line">    Assert.AreEqual(1, ans);</span><br><span class="line"></span><br><span class="line">    args &#x3D; new string[] &#123; &quot;-n&quot;, &quot;C:&#x2F;Users&#x2F;fzc&#x2F;source&#x2F;repos&#x2F;Longest-English-word-chain&#x2F;Longest-English-word-chain&#x2F;1.txt&quot; &#125;;</span><br><span class="line">    ans &#x3D; 0;</span><br><span class="line">    try</span><br><span class="line">    &#123;</span><br><span class="line">        CmdTestInterface.testOneSample(args);</span><br><span class="line">    &#125;</span><br><span class="line">    catch (FileInvalidException e)</span><br><span class="line">    &#123;</span><br><span class="line">        ans &#x3D; 1;</span><br><span class="line">        Console.WriteLine(e.Message);</span><br><span class="line">    &#125;</span><br><span class="line">    Assert.AreEqual(1, ans);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="结果过长-resulttoolongexception">结果过长 ResultTooLongException</span></h3>
<h4><span id="描述">描述</span></h4>
<ul>
<li>计算得到的结果列表过长</li>
</ul>
<h4><span id="测试">测试</span></h4>
<p>样例数据：<code>aa ab bb bc cc cd dd de ee ef ff fg gg gh hh hi ii ij jj jk kk kl ll lm mm mn nn no oo op pp pq qq </code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">public void ResultTooLongExceptionTest()</span><br><span class="line">&#123;</span><br><span class="line">    string[] args &#x3D; &#123; &quot;-n&quot;, &quot;C:&#x2F;Users&#x2F;fzc&#x2F;source&#x2F;repos&#x2F;Longest-English-word-chain&#x2F;Longest-English-word-chain&#x2F;TestFile7.txt&quot; &#125;;</span><br><span class="line">    int ans &#x3D; 0;</span><br><span class="line">    try</span><br><span class="line">    &#123;</span><br><span class="line">        CmdTestInterface.testOneSample(args);</span><br><span class="line">    &#125;</span><br><span class="line">    catch (ResultTooLongException e)</span><br><span class="line">    &#123;</span><br><span class="line">        ans &#x3D; 1;</span><br><span class="line">        Console.WriteLine(e.Message);</span><br><span class="line">    &#125;</span><br><span class="line">    Assert.AreEqual(ans, 1);</span><br><span class="line">    ans &#x3D; 0;</span><br><span class="line">    args &#x3D; new string[] &#123; &quot;-n&quot;, &quot;C:&#x2F;Users&#x2F;fzc&#x2F;source&#x2F;repos&#x2F;Longest-English-word-chain&#x2F;Longest-English-word-chain&#x2F;TestFile7.txt&quot; &#125;;</span><br><span class="line">    try</span><br><span class="line">    &#123;</span><br><span class="line">        CmdTestInterface.testOneSample(args);</span><br><span class="line">    &#125;</span><br><span class="line">    catch (ResultTooLongException e)</span><br><span class="line">    &#123;</span><br><span class="line">        ans &#x3D; 1;</span><br><span class="line">        Console.WriteLine(e.Message);</span><br><span class="line">    &#125;</span><br><span class="line">    Assert.AreEqual(ans, 1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="出现单词环-hasimplicitloopexception">出现单词环 HasImplicitLoopException</span></h3>
<h4><span id="描述">描述</span></h4>
<ul>
<li>输入的数据中含有隐含环</li>
<li>比如：<code>ab ba bc</code> 这样的文本</li>
</ul>
<h4><span id="测试">测试</span></h4>
<p>样例数据：<code>abc ca</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">public void HasImplicitLoopExceptionTest()</span><br><span class="line">&#123;</span><br><span class="line">    string[] args &#x3D; &#123; &quot;-n&quot;, &quot;C:&#x2F;Users&#x2F;fzc&#x2F;source&#x2F;repos&#x2F;Longest-English-word-chain&#x2F;Longest-English-word-chain&#x2F;TestFile6.txt&quot; &#125;;</span><br><span class="line">    int ans &#x3D; 0;</span><br><span class="line">    try</span><br><span class="line">    &#123;</span><br><span class="line">        CmdTestInterface.testOneSample(args);</span><br><span class="line">    &#125;</span><br><span class="line">    catch (HasImplicitLoopException e)</span><br><span class="line">    &#123;</span><br><span class="line">        ans &#x3D; 1;</span><br><span class="line">        Console.WriteLine(e.Message);</span><br><span class="line">    &#125;</span><br><span class="line">    Assert.AreEqual(ans, 1);</span><br><span class="line">    ans &#x3D; 0;</span><br><span class="line">    args &#x3D; new string[] &#123; &quot;-w&quot;, &quot;C:&#x2F;Users&#x2F;fzc&#x2F;source&#x2F;repos&#x2F;Longest-English-word-chain&#x2F;Longest-English-word-chain&#x2F;TestFile6.txt&quot; &#125;;</span><br><span class="line">    try</span><br><span class="line">    &#123;</span><br><span class="line">        CmdTestInterface.testOneSample(args);</span><br><span class="line">    &#125;</span><br><span class="line">    catch (HasImplicitLoopException e)</span><br><span class="line">    &#123;</span><br><span class="line">        ans &#x3D; 1;</span><br><span class="line">        Console.WriteLine(e.Message);</span><br><span class="line">    &#125;</span><br><span class="line">    Assert.AreEqual(ans, 1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2><span id="10界面模块的详细设计过程-在博客中详细介绍界面模块是如何设计的并写一些必要的代码说明解释实现过程">10.界面模块的详细设计过程。在博客中详细介绍界面模块是如何设计的，并写一些必要的代码说明解释实现过程。</span></h2>
<p>首先是<strong>原型设计</strong>，由于时间有限，只是在脑海中大致想了一下布局，即左半部分是输入部分，右半部分是输出部分。两边都是有一个文本框和若干操作按钮组成。</p>
<p>之后是<strong>技术调研</strong>，最开始选择 <code>c#</code> 就是为了体验一下 <code>gui</code> 设计，于是主要学习了 <code>WinForm</code> 的使用</p>
<p>之后就开始<strong>正式开发</strong>了，先新建了一个 <code>C# windows</code> 应用程序项目，之后利用工具箱中的组件拖动进主界面进行组件化开发。</p>
<p>主要使用了 <code>Button/TextBox/Label/ToolTip/MessageBox/ShowDialog</code>  这6个组件，拖动到设计界面后，调整位置和文字参数，之后在相应的 <code>.cs</code> 文件的绑定的控制函数中进行逻辑编写。这里以一个导入文件的按钮举例。当按下按钮时，就会触发这个事件函数，就会先弹出一个文件选择框，选择之后就会将文本导入到输入框内。其他的按钮的逻辑也类似，都是通过相应的按钮事件函数进行绑定。给每个按钮和文本都写好相应的事件后，就差不多写好了GUI界面的基本逻辑。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">private void button1_Click(object sender, EventArgs e)</span><br><span class="line">&#123;</span><br><span class="line">    if (openFileDialog1.ShowDialog(this) &#x3D;&#x3D; DialogResult.OK)</span><br><span class="line">    &#123;</span><br><span class="line">        &#x2F;&#x2F;保存路径</span><br><span class="line">        string filePath &#x3D; Path.GetFullPath(openFileDialog1.FileName);</span><br><span class="line">        Console.WriteLine(filePath);</span><br><span class="line">        &#x2F;&#x2F;读取数据</span><br><span class="line">        StreamReader str &#x3D; new StreamReader(filePath);</span><br><span class="line">        &#x2F;&#x2F;获取每行字符</span><br><span class="line">        string line;</span><br><span class="line">        string inputStr &#x3D; &quot;&quot;;</span><br><span class="line">        while ((line &#x3D; str.ReadLine()) !&#x3D; null)</span><br><span class="line">        &#123;</span><br><span class="line">            &#x2F;&#x2F;通过&#39;,&#39;将行分裂为字符串组</span><br><span class="line">            inputStr +&#x3D; line+&quot;\r\n&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        str.Close();</span><br><span class="line">        textBox1.Text &#x3D; inputStr;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>整体逻辑为，导入文件或者直接输入到文本框内，设置相应的命令，之后对输入文本框内的字符串进行处理和分析，得到输出结果，输出结果实时打印到右侧的输出框。之后可以采用将结果导出到文件等操作。异常处理和完整处理计算流程主要放在导出分析结果文件这个按钮的事件函数中，按下之后就会触发整个的流程得到计算结果。</p>
<p>具体设计时的界面如下图所示</p>
<img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-结对编程实录/gui4.png" style="zoom:50%;">
<h2><span id="11界面模块与计算模块的对接-详细地描述-ui-模块的设计与两个模块的对接并在博客中截图实现的功能">11.界面模块与计算模块的对接。详细地描述 UI 模块的设计与两个模块的对接，并在博客中截图实现的功能。</span></h2>
<h3><span id="对接计算模块">对接计算模块</span></h3>
<p>先在 <code>visual studio 2019</code> 中点击 <code>项目-添加项目引用-浏览-导入Library.dll Core.dll</code></p>
<p>主要在 <code>开始分析</code> 按钮处进行预处理和计算流程运行，大致代码架构如下，可以很轻松的修改使用的 <code>Core </code></p>
<p>主要在核心计算逻辑部分使用 <code>Core</code> 内定义的四个接口进行计算，其余部分都使用 <code>Library.dll</code> 中的类进行操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">private void button4_Click(object sender, EventArgs e)</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;CoreType:0 使用我们的Core</span><br><span class="line">    &#x2F;&#x2F;CoreType:1 使用交换的Core</span><br><span class="line">    int CoreType &#x3D; 0;</span><br><span class="line">    if (CoreType &#x3D;&#x3D; 0)</span><br><span class="line">    &#123;</span><br><span class="line">        try</span><br><span class="line">        &#123;</span><br><span class="line">            &#x2F;&#x2F;预处理</span><br><span class="line">            string[] args &#x3D; System.Text.RegularExpressions.Regex.Split(textBox3.Text, @&quot;\s+&quot;);</span><br><span class="line">            CommandParser parser &#x3D; new CommandParser(args);</span><br><span class="line">            ParseRes parseRes &#x3D; parser.getParseRes();</span><br><span class="line">            WordListMaker maker &#x3D; new WordListMaker();</span><br><span class="line">            string article &#x3D; textBox1.Text;</span><br><span class="line">            List&lt;string&gt; wordList &#x3D; maker.makeWordList(article);</span><br><span class="line">            List&lt;string&gt; result &#x3D; new List&lt;string&gt;();</span><br><span class="line">            &#x2F;&#x2F;核心计算逻辑</span><br><span class="line">            int outputMode &#x3D; 1;</span><br><span class="line">            if (parseRes.cmdChars.Contains(&#39;n&#39;))</span><br><span class="line">            &#123;</span><br><span class="line">                outputMode &#x3D; 0;</span><br><span class="line">                PairTestInterface.gen_chains_all(wordList, result);</span><br><span class="line">            &#125;</span><br><span class="line">            else if (parseRes.cmdChars.Contains(&#39;w&#39;))</span><br><span class="line">            &#123;</span><br><span class="line">                PairTestInterface.gen_chain_word(wordList, result, </span><br><span class="line">                                                 parseRes.start, parseRes.end, parseRes.enableLoop);</span><br><span class="line">            &#125;</span><br><span class="line">            else if (parseRes.cmdChars.Contains(&#39;m&#39;))</span><br><span class="line">            &#123;</span><br><span class="line">                PairTestInterface.gen_chain_word_unique(wordList, result);</span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">            &#123;</span><br><span class="line">                PairTestInterface.gen_chain_char(wordList, result, </span><br><span class="line">                                                 parseRes.start, parseRes.end, parseRes.enableLoop);</span><br><span class="line">            &#125;</span><br><span class="line">            &#x2F;&#x2F;输出逻辑</span><br><span class="line">            Output output &#x3D; new Output();</span><br><span class="line">            string outputRes &#x3D; output.printWordChains(result, outputMode);</span><br><span class="line">            outputRes &#x3D; outputRes.Replace(&quot;\n&quot;, &quot;\r\n&quot;);</span><br><span class="line">            textBox2.Text &#x3D; outputRes;</span><br><span class="line">        &#125;</span><br><span class="line">        catch (Exception error)</span><br><span class="line">        &#123;</span><br><span class="line">            MessageBox.Show(error.Message);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else</span><br><span class="line">    &#123;</span><br><span class="line">        try</span><br><span class="line">        &#123;</span><br><span class="line">            &#x2F;&#x2F;预处理</span><br><span class="line">            string[] args &#x3D; System.Text.RegularExpressions.Regex.Split(textBox3.Text, @&quot;\s+&quot;);</span><br><span class="line">            CommandParser parser &#x3D; new CommandParser(args);</span><br><span class="line">            ParseRes parseRes &#x3D; parser.getParseRes();</span><br><span class="line">            WordListMaker maker &#x3D; new WordListMaker();</span><br><span class="line">            string article &#x3D; textBox1.Text;</span><br><span class="line">            List&lt;string&gt; wordList &#x3D; maker.makeWordList(article);</span><br><span class="line">            List&lt;string&gt; result &#x3D; new List&lt;string&gt;();</span><br><span class="line">            &#x2F;&#x2F;核心计算逻辑</span><br><span class="line">            if (parseRes.cmdChars.Contains(&#39;n&#39;))</span><br><span class="line">            &#123;</span><br><span class="line">                Chain.gen_chains_all(wordList, 0, result);</span><br><span class="line">            &#125;</span><br><span class="line">            else if (parseRes.cmdChars.Contains(&#39;w&#39;))</span><br><span class="line">            &#123;</span><br><span class="line">                Chain.gen_chain_word(wordList, 0, result, </span><br><span class="line">                                     parseRes.start, parseRes.end, parseRes.enableLoop);</span><br><span class="line">            &#125;</span><br><span class="line">            else if (parseRes.cmdChars.Contains(&#39;m&#39;))</span><br><span class="line">            &#123;</span><br><span class="line">                Chain.gen_chain_word_unique(wordList, 0, result);</span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">            &#123;</span><br><span class="line">                Chain.gen_chain_char(wordList, 0, result, </span><br><span class="line">                                     parseRes.start, parseRes.end, parseRes.enableLoop);</span><br><span class="line">            &#125;</span><br><span class="line">            &#x2F;&#x2F;输出逻辑</span><br><span class="line">            Output output &#x3D; new Output();</span><br><span class="line">            string outputRes &#x3D; output.printWordChains(result, 1);</span><br><span class="line">            outputRes &#x3D; outputRes.Replace(&quot;\n&quot;, &quot;\r\n&quot;);</span><br><span class="line">            textBox2.Text &#x3D; outputRes;</span><br><span class="line">        &#125;</span><br><span class="line">        catch (Exception error)</span><br><span class="line">        &#123;</span><br><span class="line">            MessageBox.Show(error.Message);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3><span id="功能介绍">功能介绍</span></h3>
<h4><span id="导入文件">导入文件</span></h4>
<img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-结对编程实录/gui2.png" style="zoom:50%;">
<h4><span id="输入命令进行分析">输入命令进行分析</span></h4>
<h5><span id="选择命令参数按钮输入命令">选择命令参数按钮输入命令</span></h5>
<img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-结对编程实录/gui5.png" style="zoom:50%;">
<h5><span id="必要的输入提示">必要的输入提示</span></h5>
<p>输入 <code>-h/-t</code> 后会提示再输入一个字母</p>
<img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-结对编程实录/gui.png" style="zoom:50%;">
<h5><span id="清空参数">清空参数</span></h5>
<p><img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-%E7%BB%93%E5%AF%B9%E7%BC%96%E7%A8%8B%E5%AE%9E%E5%BD%95/gui8.png" alt></p>
<h4><span id="分析结果并给出必要异常提示">分析结果并给出必要异常提示</span></h4>
<h5><span id="正常的输出">正常的输出</span></h5>
<img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-结对编程实录/gui6.png" style="zoom:50%;">
<h5><span id="遇到异常">遇到异常</span></h5>
<img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-结对编程实录/gui7.png" style="zoom:50%;">
<h4><span id="导出分析结果到文件">导出分析结果到文件</span></h4>
<img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-结对编程实录/gui3.png" style="zoom:50%;">
<h2><span id="附加任务-互换核心模块">附加任务-互换核心模块</span></h2>
<h3><span id="信息">信息</span></h3>
<p>与我们互换的组为：</p>
<ul>
<li>杨濡冰 19373263</li>
<li>黄炜 19373174</li>
</ul>
<h3><span id="交换过程总结">交换过程总结</span></h3>
<p>命令行和GUI，以及测试程序都对杨濡冰和黄炜组的 <code>Core</code> 进行了使用。</p>
<p>基本的使用方式是先添加项目引用，导入他们提供的 <code>HYCore.dll</code>，之后调用他们提供的接口 <code>Chain.接口函数</code> 进行计算即可，我们将之前使用 <code>PairTestInterface.接口函数</code> 的部分替换成他们的函数即可。值得注意的是版本比较重要，<code>.net</code> 官方文档中明确提出了只保证大版本号的兼容，即 <code>4.x</code> 是可以互相兼容的，但是 <code>3.x</code> 和 <code>4.x</code> 的支持就很不顺畅，所以我们双方都单独生成了对方能够使用的版本。</p>
<p>我们小组单独生成了 <code>.net 4.7.2</code> 版本的 <code>Core.dll</code>，具体来说就是新建一个 <code>.net framework 用于创建c#类库</code> 的项目，之后添加现有项。把 <code>Core</code> 的相关文件导入，并直接运行一下就会在 <code>bin</code> 路径下找到 <code>dll</code> 文件。</p>
<p>正常导入之后，我们发现了他们的一些小bug，下图中发现他们有环数据遇到了下标越界的错误</p>
<img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-结对编程实录/pairtest1.png" style="zoom:50%;">
<p>同时在单元测试还发现了在遇到找不到某个结尾的链时会抛异常，这些错误我们都及时反馈并帮助他们完善了设计。</p>
<p>无独有偶，他们也发现了我们的类似bug</p>
<img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-结对编程实录/pairtest2.png" style="zoom:50%;">
<p>在完成bug修复之后，我们都使用对方的 <code>Core.dll</code> 得到了正确的运行结果</p>
<h3><span id="正确运行效果">正确运行效果</span></h3>
<img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-结对编程实录/pairtest3.png" style="zoom:50%;">
<img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-结对编程实录/pairtest4.png" style="zoom:50%;">
<h1><span id="part3-总结">Part3 总结</span></h1>
<h2><span id="12描述结对的过程提供两人在讨论的结对图像资料比如-live-share-的截图-关于如何远程进行结对参见作业最后的注意事项">12.描述结对的过程，提供两人在讨论的结对图像资料（比如 Live Share 的截图）。关于如何远程进行结对参见作业最后的注意事项。</span></h2>
<h3><span id="322-宿舍-初步讨论">3.22 宿舍 初步讨论</span></h3>
<p>进行第一次大致读题和进度安排，用时10min，主要是大概沟通一下和理解基本要求。同时明确了当天晚上需要好好学习 <code>c#</code> 相关的知识以及自己动手写一些demo，做好开发前必要准备工作。</p>
<h3><span id="323-主m楼-计划与初步开发">3.23 主M楼 计划与初步开发</span></h3>
<img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-结对编程实录/3_23.jpg" style="zoom: 33%;">
<p>深入读题，明确了代码规范和开发计划，完成了设计文档，同时进行了第一次结对实践，完成了输入类和一个简陋的dfs算法。</p>
<p>计划好之后两天自己独自开发的内容</p>
<h3><span id="325-新主楼-核心逻辑开发1">3.25 新主楼 核心逻辑开发1</span></h3>
<img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-结对编程实录/3_25.jpg" alt="3_25" style="zoom:33%;">
<p>zcx重构了算法，使用拓扑排序等方法进行优化，完成了一个输出函数。</p>
<p>fzc写好了GUI以及实现了参数解析，定义了输入输出的一些异常</p>
<h3><span id="327-新主楼-核心逻辑开发2">3.27 新主楼 核心逻辑开发2</span></h3>
<p>（此次忘记拍照了）</p>
<p>zcx继续完善算法逻辑</p>
<p>fzc写完善输入输出，设计单元测试</p>
<h3><span id="329-主m楼-核心逻辑开发3">3.29 主M楼 核心逻辑开发3</span></h3>
<img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-结对编程实录/3_29.jpg" alt="3_29" style="zoom:33%;">
<p>修复了解析参数的一些bug，讨论接口实现</p>
<p>zcx发现了之前算法的一些问题，进行重新构建</p>
<h3><span id="42-主m楼-gui-cli与计算模块对接完善异常设计">4.2 主M楼 GUI、CLI与计算模块对接，完善异常设计</span></h3>
<img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-结对编程实录/4_2.jpg" alt="4_2" style="zoom:33%;">
<p>基本完成了所有模块的编写，进行测试，以及命令行主程序，GUI界面和计算模块的对接</p>
<p>fzc进行整体文件架构的调整，zcx继续完成接口</p>
<h3><span id="43-45-测试各个接口模块松耦合">4.3-4.5 测试各个接口，模块松耦合</span></h3>
<p>这两天由于各种原因，线上一起进行。</p>
<p>和交换的小组进行互换模块，交流并互测。</p>
<p>编写文档，测试以及做最后的签入</p>
<h3><span id="完结撒花合影">完结撒花合影</span></h3>
<img src="https://fzc-1300590701.cos.ap-nanjing.myqcloud.com/blogImages/2022-04-04-结对编程实录/4_4.jpg" alt="4_2" style="zoom:33%;">
<p>感谢战哥的包容和忍耐以及算法的carry！这两周的合作简直丝滑至极😀</p>
<h2><span id="13看教科书和其它参考书网站中关于结对编程的章节例如httpwwwcnblogscomxinzarchive201108072130332html-说明结对编程的优点和缺点-同时描述结对的每一个人的优点和缺点在哪里要列出至少三个优点和一个缺点">13.看教科书和其它参考书，网站中关于结对编程的章节，例如：http://www.cnblogs.com/xinz/archive/2011/08/07/2130332.html ，说明结对编程的优点和缺点。同时描述结对的每一个人的优点和缺点在哪里（要列出至少三个优点和一个缺点）</span></h2>
<h3><span id="结对编程评价">结对编程评价</span></h3>
<h4><span id="优点">优点</span></h4>
<ul>
<li>代码质量高，写出来的代码往往很规范而且不容易有bug，因为有问题往往也第一时间解决了。比如本次项目我们的算法设计部分就在一开始就解决了很多问题</li>
<li>对于需求理解更到位，对一些边界问题会有更清晰的把握</li>
<li>专注度更高，效率高，出于不浪费他人时间的考虑，且有人监督，一般在一起写的时候没人会开小差做别的事。</li>
<li>适合于一些中间的阶段或者一些需要对需求有一个全面清晰认知的模块编写，比如本次项目的参数解析模块。</li>
</ul>
<h4><span id="缺点">缺点</span></h4>
<ul>
<li>对于一些简单的模块和函数，两个人一起写的效率可能物极必反，因为这部分代码本身没有什么需要一起复审的，这个时候领航员并行写一些简单的逻辑会更好</li>
<li>出于怕麻烦的心理，在被看写代码的时候压力较大，会使用更保险，更安全的写法，有时候会带来代码冗余和代码效率较低，无法写出特别高质量的代码。</li>
</ul>
<h3><span id="个人评价">个人评价</span></h3>
<h4><span id="优点">优点</span></h4>
<ul>
<li>对于新技术有热情，学习能力较强</li>
<li>善于合作，沟通能力强</li>
<li>测试能力较强</li>
</ul>
<h4><span id="缺点">缺点</span></h4>
<ul>
<li>代码风格需要IDE的自动调整，有时候自己写风格上会出问题</li>
<li>算法能力较弱</li>
</ul>
<h3><span id="队友评价">队友评价</span></h3>
<h4><span id="优点">优点</span></h4>
<ul>
<li>对于算法设计与优化具有很高热情，算法设计与实现能力强（这次结对尝试实现过很多图算法，以及进行了较多的优化）</li>
<li>代码设计风格相当规范甚至可以说是精美</li>
<li>学习能力强，善于查阅资料文档</li>
<li>善于合作，接口设计对接与交流很顺畅</li>
</ul>
<h4><span id="缺点">缺点</span></h4>
<ul>
<li>也许是别的事太多了，有时候懒得配环境</li>
</ul>
<h2><span id="14在你实现完程序之后在附录提供的psp表格记录下你在程序的各个模块上实际花费的时间">14.在你实现完程序之后，在附录提供的PSP表格记录下你在程序的各个模块上实际花费的时间。</span></h2>
<table>
<thead>
<tr>
<th style="text-align:left">PSP2.1</th>
<th style="text-align:left">Personal Software Process Stages</th>
<th style="text-align:left">预估耗时（分钟）</th>
<th style="text-align:left">实际耗时（分钟）</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Planning</td>
<td style="text-align:left">计划</td>
<td style="text-align:left">90</td>
<td style="text-align:left">90</td>
</tr>
<tr>
<td style="text-align:left">· Estimate</td>
<td style="text-align:left">· 估计这个任务需要多少时间</td>
<td style="text-align:left">90</td>
<td style="text-align:left">90</td>
</tr>
<tr>
<td style="text-align:left">Development</td>
<td style="text-align:left">开发</td>
<td style="text-align:left">790</td>
<td style="text-align:left">915</td>
</tr>
<tr>
<td style="text-align:left">· Analysis</td>
<td style="text-align:left">· 需求分析 (包括学习新技术)</td>
<td style="text-align:left">60</td>
<td style="text-align:left">30</td>
</tr>
<tr>
<td style="text-align:left">· Design Spec</td>
<td style="text-align:left">· 生成设计文档</td>
<td style="text-align:left">30</td>
<td style="text-align:left">30</td>
</tr>
<tr>
<td style="text-align:left">· Design Review</td>
<td style="text-align:left">· 设计复审 (和同事审核设计文档)</td>
<td style="text-align:left">30</td>
<td style="text-align:left">10</td>
</tr>
<tr>
<td style="text-align:left">· Coding Standard</td>
<td style="text-align:left">· 代码规范 (为目前的开发制定合适的规范)</td>
<td style="text-align:left">10</td>
<td style="text-align:left">5</td>
</tr>
<tr>
<td style="text-align:left">· Design</td>
<td style="text-align:left">· 具体设计</td>
<td style="text-align:left">60</td>
<td style="text-align:left">60</td>
</tr>
<tr>
<td style="text-align:left">· Coding</td>
<td style="text-align:left">· 具体编码</td>
<td style="text-align:left">360</td>
<td style="text-align:left">480</td>
</tr>
<tr>
<td style="text-align:left">· Code Review</td>
<td style="text-align:left">· 代码复审</td>
<td style="text-align:left">60</td>
<td style="text-align:left">120</td>
</tr>
<tr>
<td style="text-align:left">· Test</td>
<td style="text-align:left">· 测试（自我测试，修改代码，提交修改）</td>
<td style="text-align:left">180</td>
<td style="text-align:left">180</td>
</tr>
<tr>
<td style="text-align:left">Reporting</td>
<td style="text-align:left">报告</td>
<td style="text-align:left">100</td>
<td style="text-align:left">100</td>
</tr>
<tr>
<td style="text-align:left">· Test Report</td>
<td style="text-align:left">· 测试报告</td>
<td style="text-align:left">60</td>
<td style="text-align:left">60</td>
</tr>
<tr>
<td style="text-align:left">· Size Measurement</td>
<td style="text-align:left">· 计算工作量</td>
<td style="text-align:left">10</td>
<td style="text-align:left">10</td>
</tr>
<tr>
<td style="text-align:left">· Postmortem &amp; Process Improvement Plan</td>
<td style="text-align:left">· 事后总结, 并提出过程改进计划</td>
<td style="text-align:left">30</td>
<td style="text-align:left">30</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">合计</td>
<td style="text-align:left">980</td>
<td style="text-align:left">1105</td>
</tr>
</tbody>
</table>
<h2><span id="事后总结">事后总结</span></h2>
<p>本次结对编程是一次非常令人难忘的经历，收获了以下内容：</p>
<ul>
<li>从几乎陌生到大概了解 <code>c#</code> 面向对象设计，<code>c# WinForm GUI</code> 开发</li>
<li>掌握了基本的 <code>visual studio</code> 使用方法，包括单元测试，代码性能分析，打包方法，编译运行等等</li>
<li>基本了解了结对编程的流程，大致掌握了一种高效的两人项目开发方法</li>
<li>复习了OO课上的JML和UML部分的一些内容，同时对于接口设计，高内聚低耦合等设计原则有了更深的理解</li>
<li>同时很重要的是更加了解战哥这位巨佬，从他身上也学到了不少东西，包括设计思想，代码规范等等</li>
</ul>
<p>同时对于结对编程的流程也有了一些改进的想法，之后结对编程和团队开发中可以吸取教训和经验</p>
<ul>
<li>项目的松耦合从一开始就要大致规划好，除了代码层面的松耦合，还有项目之间的松耦合，比如需要分出几个子项目，以及同一个项目之内需要分成几个模块。以及版本也需要从一开始进行统一</li>
<li>编码时就要考虑 Information Hiding，Interface Design，Loose Coupling 这些原则，保证接口，实体类，工具类，方法的可扩展性。同时一定程度上可以对于算法设计，以及有明确输入输出的函数进行契约化设计实践</li>
<li>结对编程不能一味死板的执行领航+驾驶这样的原则，相当的一段时间还是需要独立思考开发的。但是对于边界较混乱和比较复杂的部分需要合作和讨论完成，确保不会出错</li>
</ul>

                
                <hr>
                <!-- Pager -->
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2022/04/13/NLP-Intro-Learning-Note/" data-toggle="tooltip" data-placement="top" title="NLP入门学习笔记">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2022/03/19/动手学深度学习笔记/" data-toggle="tooltip" data-placement="top" title="动手学深度学习笔记-基础篇">Next Post &rarr;</a>
                    </li>
                    
                </ul>

                <!-- tip start -->
                

                
                <!-- tip end -->

                <!-- Music start-->
                
                <!-- Music end -->

                <!-- Sharing -->
                
                <div class="social-share"  data-wechat-qrcode-helper="" align="center"></div>
                <!--  css & js -->
                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">
                <script src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>
                
                <!-- Sharing -->

                <!-- gitment start -->
                
                <!-- gitment end -->

                <!-- 来必力City版安装代码 -->
                
                <!-- City版安装代码已完成 -->

                <!-- disqus comment start -->
                
                <!-- disqus comment end -->
            </div>
            
            <!-- Tabe of Content -->
            <!-- Table of Contents -->

    
      
        <aside id="sidebar">
          <div id="toc" class="toc-article">
          <strong class="toc-title">Contents</strong>
          
            
              <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#"><span class="toc-nav-text">Part0 准备</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">1.必要信息</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">2.PSP开发时间估计</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#"><span class="toc-nav-text">Part1 设计</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">3.看教科书和其它资料中关于 Information Hiding，Interface Design，Loose Coupling 的章节，说明你们在结对编程中是如何利用这些方法对接口进行设计的</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">Information Hiding</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">多层设计中的层与层之间加入接口层</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">所有类与类之间都通过接口类访问</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">类的所有数据成员都是private，所有访问都是通过访问函数实现的</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">Interface Design</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">Loose Coupling</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">4.计算模块接口的设计与实现过程。设计包括代码如何组织，比如会有几个类，几个函数，他们之间关系如何，关键函数是否需要画出流程图？说明你的算法的关键（不必列出源代码），以及独到之处</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">计算模块接口设计</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">具体算法设计</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">5.阅读有关 UML 的内容，画出 UML 图显示计算模块部分各个实体之间的关系（画一个图即可）</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#"><span class="toc-nav-text">Part2 编码与测试</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">6.计算模块接口部分的性能改进。记录在改进计算模块性能上所花费的时间，描述你改进的思路，并展示一张性能分析图（由VS 2019的性能分析工具自动生成），并展示你程序中消耗最大的函数。</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">7.看 Design by Contract，Code Contract 的内容，并描述这些做法的优缺点，说明你是如何把它们融入结对作业中的。</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">8.计算模块部分单元测试展示。展示出项目部分单元测试代码，并说明测试的函数，构造测试数据的思路。并将单元测试得到的测试覆盖率截图，发表在博客中。要求总体覆盖率到 90% 以上，否则单元测试部分视作无效。</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">单元测试</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">局部测试</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">整体测试</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">单元测试结果展示</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">本地CLI对拍</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">9.计算模块部分异常处理说明。在博客中详细介绍每种异常的设计目标。每种异常都要选择一个单元测试样例发布在博客中，并指明错误对应的场景。</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">错误的参数 CommandInvalidException</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">描述</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">测试</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">错误的参数组合 CommandComplexException</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">描述</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">测试</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">错误的文件格式 FileInvalidException</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">描述</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">测试</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">结果过长 ResultTooLongException</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">描述</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">测试</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">出现单词环 HasImplicitLoopException</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">描述</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">测试</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">10.界面模块的详细设计过程。在博客中详细介绍界面模块是如何设计的，并写一些必要的代码说明解释实现过程。</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">11.界面模块与计算模块的对接。详细地描述 UI 模块的设计与两个模块的对接，并在博客中截图实现的功能。</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">对接计算模块</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">功能介绍</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">导入文件</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">输入命令进行分析</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#"><span class="toc-nav-text">选择命令参数按钮输入命令</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#"><span class="toc-nav-text">必要的输入提示</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#"><span class="toc-nav-text">清空参数</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">分析结果并给出必要异常提示</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#"><span class="toc-nav-text">正常的输出</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#"><span class="toc-nav-text">遇到异常</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">导出分析结果到文件</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">附加任务-互换核心模块</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">信息</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">交换过程总结</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">正确运行效果</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#"><span class="toc-nav-text">Part3 总结</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">12.描述结对的过程，提供两人在讨论的结对图像资料（比如 Live Share 的截图）。关于如何远程进行结对参见作业最后的注意事项。</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">3.22 宿舍 初步讨论</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">3.23 主M楼 计划与初步开发</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">3.25 新主楼 核心逻辑开发1</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">3.27 新主楼 核心逻辑开发2</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">3.29 主M楼 核心逻辑开发3</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">4.2 主M楼 GUI、CLI与计算模块对接，完善异常设计</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">4.3-4.5 测试各个接口，模块松耦合</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">完结撒花合影</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">13.看教科书和其它参考书，网站中关于结对编程的章节，例如：http:&#x2F;&#x2F;www.cnblogs.com&#x2F;xinz&#x2F;archive&#x2F;2011&#x2F;08&#x2F;07&#x2F;2130332.html ，说明结对编程的优点和缺点。同时描述结对的每一个人的优点和缺点在哪里（要列出至少三个优点和一个缺点）</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">结对编程评价</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">优点</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">缺点</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">个人评价</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">优点</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">缺点</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">队友评价</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">优点</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">缺点</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">14.在你实现完程序之后，在附录提供的PSP表格记录下你在程序的各个模块上实际花费的时间。</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">事后总结</span></a></li></ol></li></ol>
            
          
          </div>
        </aside>
      
    

                
            <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                       
                          <a class="tag" href="/tags/#BUAA-SE-2022" title="BUAA-SE-2022">BUAA-SE-2022</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>FRIENDS</h5>
                <ul class="list-inline">

                    
                        <li><a href="https://roife.github.io" target="_blank">Roife</a></li>
                    
                        <li><a href="https://coekjan.cn" target="_blank">Coekjan</a></li>
                    
                        <li><a href="https://www.dusign.net/" target="_blank">Dusign</a></li>
                    
                </ul>
                
            </div>
        </div>
    </div>
</article>
<script src="https://utteranc.es/client.js"
        repo="buaadreamer/buaadreamer.github.io"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>



<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'hover',
          placement: 'left',
          icon: 'ℬ'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>


<style  type="text/css">
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">

                
                    <li>
                        <a target="_blank"  href="https://github.com/BUAADreamer">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                

                

                

                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; BUAADreamer 2022 
                    <br>
                    Powered by 
                    <a href="https://github.com/dusign/hexo-theme-snail" target="_blank" rel="noopener">
                        <i>hexo-theme-snail</i>
                    </a> | 
                    <iframe name="star" style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0"
                        width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=dusign&repo=hexo-theme-snail&type=star&count=true">
                    </iframe>
                </p>
            </div>
        </div>
    </div>

</footer>

<!-- jQuery -->

<script src="/js/jquery.min.js"></script>


<!-- Bootstrap Core JavaScript -->

<script src="/js/bootstrap.min.js"></script>


<!-- Custom Theme JavaScript -->

<script src="/js/hux-blog.min.js"></script>


<!-- Search -->

<script src="/js/search.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("https://BUAADreamer.top/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-XXXXXXXX-X';
    var _gaDomain = 'yoursite';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>




<!-- Baidu Tongji -->


<!-- Search -->

    <script type="text/javascript">      
        var search_path = "search.xml";
        if (search_path.length == 0) {
            search_path = "search.xml";
        }
    var path = "/" + search_path;
    searchFunc(path, 'local-search-input', 'local-search-result');
    </script>


<!-- busuanzi -->
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


  <script src='https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js'></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize({theme: 'forest'});
    }
  </script>








	<a id="rocket" href="#top" class=""></a>
	<script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
    <script type="text/javascript" src="/js/toc.js?v=1.0.0" async=""></script>

    
        <!-- background effects line -->
        

        
            <script type="text/javascript" src="/js/mouse-click.js" content='[&#34;🌱&#34;,&#34;just do it&#34;,&#34;🍀&#34;]' color='[&#34;rgb(121,93,179)&#34; ,&#34;rgb(76,180,231)&#34; ,&#34;rgb(184,90,154)&#34;]'></script>
        

        <!-- background effects end -->
    

    <!--<script size="50" alpha='0.3' zIndex="-999" src="/js/ribbonStatic.js"></script>-->
    
        <script src="/js/ribbonDynamic.js"></script>
    
</body>

</html>
