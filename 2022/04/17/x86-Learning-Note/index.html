<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="baidu-site-verification" content="093lY4ziMu" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="description" content="A hexo theme">
    <meta name="keyword"  content="BUAADreamer, hexo-theme-snail">
    <link rel="shortcut icon" href="/img/ironman-draw.png">
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <!--<link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>-->
    <title>
        
          x86学习笔记 - BUAADreamer&#39;s Blog
        
    </title>

    <link rel="canonical" href="https://BUAADreamer.top/2022/04/17/x86-Learning-Note/">

    <!-- Bootstrap Core CSS -->
    
<link rel="stylesheet" href="/css/bootstrap.min.css">


    <!-- Custom CSS --> 
    
        
<link rel="stylesheet" href="/css/dusign-light.css">

        
<link rel="stylesheet" href="/css/dusign-common-light.css">

        
<link rel="stylesheet" href="/css/font-awesome.css">

        
<link rel="stylesheet" href="/css/toc.css">

        <!-- background effects end -->
    
    
    <!-- Pygments Highlight CSS -->
    
<link rel="stylesheet" href="/css/highlight.css">


    
<link rel="stylesheet" href="/css/widget.css">


    
<link rel="stylesheet" href="/css/rocket.css">


    
<link rel="stylesheet" href="/css/signature.css">


    
<link rel="stylesheet" href="/css/fonts.googleapis.css">


    <link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css">

    <!-- photography -->
    
<link rel="stylesheet" href="/css/photography.css">


    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 4.2.1"></head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- background effects start -->
    
    <!-- background effects end -->

	<!-- Modified by Yu-Hsuan Yen -->
<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        
            
                background-image: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url('../../../../img/default.jpg')
                /*post*/
            
        
    }
    
    #signature{
        background-image: url('/img/signature/dusign.png');
    }
    
</style>

<header class="intro-header" >
    <!-- Signature -->
    <div id="signature">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                
                    <div class="post-heading">
                        <div class="tags">
                            
                              <a class="tag" href="/tags/#assembly" title="assembly">assembly</a>
                            
                        </div>
                        <h1>x86学习笔记</h1>
                        <h2 class="subheading"></h2>
                        <span class="meta">
                            Posted by BUAADreamer on
                            2022-04-17
                        </span>

                        
                            <div class="blank_box"></div>
                            <span class="meta">
                                Words <span class="post-count">4.4k</span> and
                                Reading Time <span class="post-count">21</span> Minutes
                            </span>
                            <div class="blank_box"></div>
                            <!-- 不蒜子统计 start -->
                            <span class="meta">
                                Viewed <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span> Times
                            </span>
                            <!-- 不蒜子统计 end -->
                        

                    </div>
                

                </div>
            </div>
        </div>      
    </div>

    
    <div class="waveWrapper">
        <div class="wave wave_before" style="background-image: url('/img/wave-light.png')"></div>
        <div class="wave wave_after" style="background-image: url('/img/wave-light.png')"></div>
    </div>
    
</header>

	
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">BUAADreamer&#39;s Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/archive/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/categories/">Categories</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/photography/">Photography</a>
                        </li>
                        
                    
                    
                    
                    <li>
                        <a href="https://www.cnblogs.com/BUAADreamer/" target="_blank">Chinese Blog</a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    <!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            
            <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <h1><span id="第3章-寻址方式与指令系统">第3章 寻址方式与指令系统</span></h1>
<h2><span id="31-指令格式">3.1 指令格式</span></h2>
<h2><span id="32-寻址方式">3.2 寻址方式</span></h2>
<h2><span id="33-指令系统">3.3 指令系统</span></h2>
<h1><span id="第4章-汇编语言程序格式">第4章 汇编语言程序格式</span></h1>
<h2><span id="41-分段式程序结构">4.1 分段式程序结构</span></h2>
<p>SEGMENT ENDS DW EQU ASSUME ENDP END都是常见伪指令</p>
<p>标号命名必须以<code>@/-/?</code> 或者字母开头，指令与伪指令的常数以字母开头 <code>A/B/C/D/E/F</code> 开头需要在前面加0，避免混淆，不区分大小写！</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">STACK1 	SEGMENT PARA STACK ;PARA STACK定义了堆栈</span><br><span class="line">        STACK_AREA	DW	100H DUP(?)</span><br><span class="line">        STACK_BTM	EQU	$-STACK_AREA</span><br><span class="line">STACK1 	ENDS 	;1-4行定义堆栈段 SEGMENTS和ENDS是一对</span><br><span class="line">DATA 	SEGMENT</span><br><span class="line">        TABLE_LEN 	DW 16</span><br><span class="line">        TABLE 	DW 19,06,19,73,11,22,33,44</span><br><span class="line">                DW 20,06,20,74,55,66,77,88</span><br><span class="line">DATA	ENDS 	;5-9行定义数据段</span><br><span class="line">CODE 	SEGMENT </span><br><span class="line">		ASSUME 	CS:CODE,DS:DATA,SS:STACK1 ;为了阅读方便和整齐，需要字段对齐 指令语句和伪指令语句不能换行 这里其实没有真正的设置CS DS SS</span><br><span class="line">MAIN 	PROC 	FAR ;PROC和ENDP是一对 如果只有一个过程则可以直接在代码段写指令</span><br><span class="line">        MOV		AX,STACK1</span><br><span class="line">        MOV		SS,AX			</span><br><span class="line">        MOV 	SP,STACK_BTM 	;栈底交给SP</span><br><span class="line">        MOV		AX,DATA</span><br><span class="line">        MOV		DS,AX</span><br><span class="line">LP1:	MOV 	BX,1</span><br><span class="line">		MOV		CX,TABLE_LEN</span><br><span class="line">		DEC		CX</span><br><span class="line">		MOV		SI,OFFSET TABLE	;把TABLE的偏移地址送给SI</span><br><span class="line">LP2:	MOV 	AX,[SI] 		;利用SI进行间接寻址</span><br><span class="line">		CMP 	AX,[SI+2]		;比较TABLE[i]与TABLE[i+1]的大小</span><br><span class="line">		JBE		CONTINUE		;小于等于则跳转到CONTINUE 无符号数比较是JB&#x2F;JA&#x2F;JE 有符号数是 JG&#x2F;JL&#x2F;JE</span><br><span class="line">		XCHG	AX,[SI+2]		;大于则交换，用AX当TEMP</span><br><span class="line">		MOV		[SI],AX			</span><br><span class="line">		MOV		BX,0			;清零标志变量</span><br><span class="line">CONTINUE:	ADD SI,2</span><br><span class="line">		LOOP	LP2				;&lt;&#x3D;&#x3D;&gt; 先CX-- CX不为0就跳转到 LP2 CX为0则继续往下执行</span><br><span class="line">		CMP		BX,1</span><br><span class="line">		JZ		EXIT			;ZF为0则跳转到EXIT</span><br><span class="line">		JMP		SHORT LP1		;SHORT是相距较近的代码时用的</span><br><span class="line">EXIT:	MOV 	AX,4C00H  	;AH-功能号 AL-返回码 相当于exit(0)，返回MS-DOS命令提示符</span><br><span class="line">		INT		21H			;调用MS-DOS例程</span><br><span class="line">MAIN	ENDP</span><br><span class="line">CODE1 	ENDS 	;10-36行定义代码段</span><br><span class="line">		END		MAIN ;告诉编译器程序入口在MAIN</span><br></pre></td></tr></table></figure>
<h2><span id="42-定义程序结构的伪指令">4.2 定义程序结构的伪指令</span></h2>
<h2><span id="43-数据定义与内存分配">4.3 数据定义与内存分配</span></h2>
<h3><span id="常数与常量">常数与常量</span></h3>
<p>二进制数：0-1序列，B结尾，比如：010B</p>
<p>八进制数：0-7组成序列，Q结尾，比如：127Q</p>
<p>十进制数：0-9组成序列，D结尾，D也可以省略。比如：129/129D</p>
<p>十六进制数：0-9，A-F组成序列，H结尾</p>
<p>字符或字符串：单引号或双引号括起来的字符：‘A’,“ABC”</p>
<p>实数：整数，小数，指数三部分，比如1.234E-5</p>
<p>EQU指令指定常量 比如：<code>A EQU 12H</code></p>
<p>当前位置计数器 <code>$</code>，常用来计算长度，比如 <code>SRACK_BTM EQU-TABLE</code></p>
<h3><span id="变量与变量定义">变量与变量定义</span></h3>
<p>x86中所有的地址+1，都是+1个BYTE对应的地址</p>
<p><code>String1 DB 'ABCD',0DH,0AH,'$'</code> 这里其实定义了7个字，即A B C D 0DH 0AH $</p>
<p><code>ARRAY1 DB 10 DUP(?)</code></p>
<p><code>ARRAY2D DB 5 DUP(1,2,3,4,?)</code> 二维数组定义</p>
<h3><span id="汇编链接运行">汇编，链接，运行</span></h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">masm code.asm</span><br><span class="line">link code.asm</span><br><span class="line">code.asm</span><br></pre></td></tr></table></figure>
<h3><span id="调试与debug">调试与DEBUG</span></h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">debug code.exe</span><br></pre></td></tr></table></figure>
<h1><span id="第5章-分支与循环程序设计">第5章 分支与循环程序设计</span></h1>
<h2><span id="51-顺序程序设计">5.1 顺序程序设计</span></h2>
<h3><span id="例题51-将一个25行80列的数组的第y行第x列元素的第i位置1">例题5.1 将一个25行，80列的数组的第y行，第x列元素的第i位置1</span></h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">STACK1 	SEGMENT	PARA</span><br><span class="line">STACK_AREA	DW	100H DUP(?)</span><br><span class="line">STACK_BOTTOM	EQU	$-STACK_AREA</span><br><span class="line">STACK1  ENDS</span><br><span class="line"></span><br><span class="line">DATA	SEGMENT PARA </span><br><span class="line">ARRAY	DB	25*80	DUP(?)</span><br><span class="line">X		DB	? ;字节变量</span><br><span class="line">Y		DB	?</span><br><span class="line">I		DB 	?</span><br><span class="line">END SEGMENT</span><br><span class="line"></span><br><span class="line">CODE	SEGMENT PARA</span><br><span class="line">		ASSUME	CS:CODE,SS:STACK1,DS:DATA</span><br><span class="line">MAIN	PROC FAR</span><br><span class="line">		MOV		AX,STACK1</span><br><span class="line">		MOV		SS,AX</span><br><span class="line">		MOV		SP,STACK_BOTTOM</span><br><span class="line">		MOV		AX,DATA</span><br><span class="line">		MOV		DS,AX</span><br><span class="line">		</span><br><span class="line">		MOV		AL,80</span><br><span class="line">		MUL		Y	;相当于AL*Y 结果送到AX</span><br><span class="line">		MOV		DL,X</span><br><span class="line">		XOR		DH,DH ;将DH清零 从而DX&#x3D;X</span><br><span class="line">		ADD		AX,DX ;AX&#x3D;Y*80+X</span><br><span class="line">		MOV		SI,OFFSET ARRAY	;SI&#x3D;ARRAY首地址</span><br><span class="line">		ADD		SI,AX;SI&#x3D;需要的元素地址</span><br><span class="line">		MOV		AL,80H;AL&#x3D;10000000B</span><br><span class="line">		MOV		CL,I;CL&#x3D;I</span><br><span class="line">		SHR		AL,CL	;AL&#x3D;AL&gt;&gt;I	移位的数字不是1，必须使用CL寄存器！！</span><br><span class="line">		OR		[SI],AL	;第I位置1 SI寄存器间接寻址</span><br><span class="line">EXIT:	MOV		AX,4C00H</span><br><span class="line">		INT		21H</span><br><span class="line">MAIN	ENDP</span><br><span class="line">CODE 	END</span><br><span class="line">		END		MAIN</span><br></pre></td></tr></table></figure>
<h3><span id="例题52-用查表方式将一位十六进制数转换成相应ascii码">例题5.2 用查表方式将一位十六进制数转换成相应ascii码</span></h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">STACK1 SEGMENT PARA STACK</span><br><span class="line">STACK_AREA	DB	100H DUP(?) ;定义PARA STACK就会自动初始化SP和SS</span><br><span class="line">STACK1 ENDS</span><br><span class="line"></span><br><span class="line">DATA SEGMENT PARA</span><br><span class="line">ASCII_TABLE	DB	30H,31H,32H,33H,34H,35H,36H,37H</span><br><span class="line">			DB	38H,39H,41H,42H,43H,44H,45H,46H</span><br><span class="line">HEX			DB	?</span><br><span class="line">ASC			DB	?</span><br><span class="line">DATA ENDS</span><br><span class="line"></span><br><span class="line">CODE 	SEGMENT	PARA</span><br><span class="line">		ASSUME	CS:CODE,SS:STACK,DS:DATA</span><br><span class="line">MAIN 	PROC	FAR</span><br><span class="line">		MOV		AX,DATA</span><br><span class="line">		MOV 	DS,AX</span><br><span class="line">		MOV		SI,OFFSET	ASCII_TABLE</span><br><span class="line">		MOV		AL,HEX</span><br><span class="line">		XOR		AH,AH;AX&#x3D;HEX</span><br><span class="line">		ADD		SI,AX;SI&#x3D;HEX对应的ascii码元素的地址</span><br><span class="line">		MOV		AL,[SI]</span><br><span class="line">		MOV		ASC,AL</span><br><span class="line">		</span><br><span class="line">		;打印ASCII码</span><br><span class="line">		MOV		AH,2	;二号中断</span><br><span class="line">		MOV		DL,AL</span><br><span class="line">		INT 	21H</span><br><span class="line">		</span><br><span class="line">EXIT:	MOV AX,4C00H</span><br><span class="line">		INT 21H</span><br><span class="line">MAIN 	ENDP</span><br><span class="line">CODE 	ENDS</span><br><span class="line">		END MAIN</span><br></pre></td></tr></table></figure>
<p>也可以用以下寄存器相对寻址方式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">XOR		AH,AH</span><br><span class="line">MOV		AL,HEX</span><br><span class="line">MOV		SI,AX</span><br><span class="line">MOV		AL,ASCII_TABLE[SI]</span><br><span class="line">MOV		ASC,AL</span><br></pre></td></tr></table></figure>
<p>也可以用基址加变址方式寻址</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">MOV		BX,OFFSET	ASCII_TABLE</span><br><span class="line">MOV		AL,HEX</span><br><span class="line">XOR		AH,AH</span><br><span class="line">MOV		SI,AX</span><br><span class="line">MOV		AL,[BX+SI]</span><br><span class="line">MOV		ASC,AL</span><br></pre></td></tr></table></figure>
<h2><span id="52-分支程序设计">5.2 分支程序设计</span></h2>
<h3><span id="例53-删除数组中目标元素">例5.3 删除数组中目标元素</span></h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">STACK1	SEGMENT		PARA STACK</span><br><span class="line">STACK_AREA	DB	100H DUP(?)</span><br><span class="line">STACK1 	ENDS</span><br><span class="line"></span><br><span class="line">DATA	SEGMENT</span><br><span class="line">TABLE_LEN	EQU	20</span><br><span class="line">TABLE	DW	TABLE_LEN	DUP(?)</span><br><span class="line">TABLE_END	LABEL	WORD ;表最后的下一个元素</span><br><span class="line">VALUE	DW	?;要查找的目标值</span><br><span class="line">DATA 	ENDS</span><br><span class="line"></span><br><span class="line">CODE	SEGMENT</span><br><span class="line">		ASSUME	CS:CODE,SS:STACK1,DS:DATA</span><br><span class="line">MAIN	PROC	FAR</span><br><span class="line">		MOV		AX,DATA</span><br><span class="line">		MOV		DS,AX</span><br><span class="line">		</span><br><span class="line">SEARCH:	MOV		BX,OFFSET	TABLE</span><br><span class="line">		MOV		AX,VALUE</span><br><span class="line">		CMP		AX,[BX]</span><br><span class="line">		JE		FOUND</span><br><span class="line">		INC		BX</span><br><span class="line">		INC		BX ;BX+&#x3D;2</span><br><span class="line">		CMP		TABLE_END</span><br><span class="line">		JB		SEARCH</span><br><span class="line">		MOV		SI,0FFFFH ;没找到</span><br><span class="line">		JMP		SHORT EXIT</span><br><span class="line">		</span><br><span class="line">FOUND:	MOV		SI,BX</span><br><span class="line">DELETE:	CMP		BX,TABLE_END</span><br><span class="line">		JAE		EXIT ;大于等于跳转</span><br><span class="line">		MOV		AX,[BX+2]</span><br><span class="line">		MOV		[BX],AX</span><br><span class="line">		ADD		BX,2</span><br><span class="line">		JMP		SHORT DELETE</span><br><span class="line">		</span><br><span class="line">EXIT:	MOV		AX,4C00H</span><br><span class="line">		INT		21H</span><br><span class="line">MAIN	ENDP</span><br><span class="line">CODE	ENDS</span><br><span class="line">		END		MAIN</span><br></pre></td></tr></table></figure>
<h3><span id="例54跳转表">例5.4：跳转表</span></h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">STACK0 SEGMENT PARA STACK</span><br><span class="line">STACK_AREA	DW 100H DUP(?)</span><br><span class="line">STACK0 ENDS</span><br><span class="line"></span><br><span class="line">DATA SEGMENT	PARA</span><br><span class="line">N EQU 5</span><br><span class="line">JMP_TABLE	DW	ROAD1,ROAD2,ROAD3,ROAD4,ROAD5</span><br><span class="line">I	DW 3</span><br><span class="line">DATA ENDS</span><br><span class="line"></span><br><span class="line">CODE 	SEGMENT	PARA</span><br><span class="line">		ASSUME CS:CODE,DS:DATA,SS:STACK0</span><br><span class="line">MAIN 	PROC FAR</span><br><span class="line">		MOV	AX,DATA</span><br><span class="line">		MOV DS,AX</span><br><span class="line">		MOV	BX,I</span><br><span class="line">		DEC	BX</span><br><span class="line">		SHL	BX,1</span><br><span class="line">		JMP JMP_TABLE[BX]</span><br><span class="line">ROAD1:	MOV	AH,2</span><br><span class="line">		MOV	DL,31H</span><br><span class="line">		INT 21H</span><br><span class="line">		JMP EXIT</span><br><span class="line">ROAD2:	MOV	AH,2</span><br><span class="line">		MOV	DL,32H</span><br><span class="line">		INT 21H</span><br><span class="line">		JMP EXIT</span><br><span class="line">ROAD3:	MOV	AH,2</span><br><span class="line">		MOV	DL,33H</span><br><span class="line">		INT 21H</span><br><span class="line">		JMP EXIT</span><br><span class="line">ROAD4:	MOV	AH,2</span><br><span class="line">		MOV	DL,34H</span><br><span class="line">		INT 21H</span><br><span class="line">		JMP EXIT</span><br><span class="line">ROAD5:	MOV	AH,2</span><br><span class="line">		MOV	DL,35H</span><br><span class="line">		INT 21H</span><br><span class="line">		JMP EXIT</span><br><span class="line">EXIT:	MOV AX,4C00H</span><br><span class="line">		INT 21H</span><br><span class="line">MAIN ENDP</span><br><span class="line">CODE ENDS</span><br><span class="line">		END MAIN</span><br></pre></td></tr></table></figure>
<h2><span id="53-循环程序设计">5.3 循环程序设计</span></h2>
<h3><span id="与cx搭配使用的循环用法">与CX搭配使用的循环用法</span></h3>
<p>LOOP：先将CX设置为需要循环的次数，循环一次后，LOOP指令先将CX减1，并判断是否为0，不为0则继续循环，反之结束循环</p>
<p>LOOPE/LOOPZ：在LOOP基础上增加条件ZF==1 ，只有当ZF==1才继续循环</p>
<p>LOOPNE/LOOPNZ：在LOOP基础上增加条件ZF==0只有当ZF==0才继续循环</p>
<p>JCXZ：只判断，不递减CX。当CX==0时跳转</p>
<h3><span id="例55内存中的一个字二进制数转换为十六进制数并在屏幕上显示出来">例5.5：内存中的一个字（二进制数）转换为十六进制数，并在屏幕上显示出来</span></h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">STACK1	SEGMENT PARA STACK</span><br><span class="line">STACK_AREA	DB 100H DUP(?)</span><br><span class="line">STACK1	ENDS</span><br><span class="line"></span><br><span class="line">DATA	SEGMENT	PARA </span><br><span class="line">VALUE	DW	0011101000101111B ;3A2F</span><br><span class="line">DATA 	ENDS</span><br><span class="line"></span><br><span class="line">CODE	SEGMENT	PARA</span><br><span class="line">        ASSUME  CS:CODE,SS:STACK1,DS:DATA</span><br><span class="line">MAIN	PROC 	FAR</span><br><span class="line">		MOV		AX,DATA</span><br><span class="line">		MOV		DS,AX</span><br><span class="line">		MOV		BX,VALUE</span><br><span class="line">		MOV		CX,4 ;循环次数</span><br><span class="line">SHIFT:	PUSH	CX</span><br><span class="line">		MOV		CL,4</span><br><span class="line">		ROL		BX,CL ;BX循环左移4位</span><br><span class="line">		MOV		AL,BL ;取出低8位</span><br><span class="line">		AND		AL,0FH;清除高四位，只留最低四位</span><br><span class="line">		ADD		AL,30H</span><br><span class="line">		CMP		AL,39H</span><br><span class="line">		JBE		PRINT</span><br><span class="line">		ADD		AL,&#39;A&#39;-&#39;9&#39;-1</span><br><span class="line">PRINT:	MOV		DL,AL</span><br><span class="line">		MOV		AH,2</span><br><span class="line">		INT 	21H</span><br><span class="line">		POP		CX</span><br><span class="line">		LOOP	SHIFT</span><br><span class="line">EXIT:	MOV		AX,4C00H</span><br><span class="line">		INT		21H</span><br><span class="line">MAIN	ENDP</span><br><span class="line">CODE	ENDS</span><br><span class="line">		END 	MAIN</span><br></pre></td></tr></table></figure>
<h3><span id="将内存中一个字二进制或十六进制数转换成十进制数的ascii码并显示出来">将内存中一个字（二进制或十六进制数）转换成十进制数的ASCII码，并显示出来</span></h3>
<h4><span id="方法1-例56-依次除以100001000100101-得到商">方法1 例5.6 依次除以10000，1000，100，10，1 得到商</span></h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">STACK1  SEGMENT PARA STACK</span><br><span class="line">STACK_AREA  DB  100H    DUP(?)</span><br><span class="line">STACK1  ENDS</span><br><span class="line"></span><br><span class="line">DATA    SEGMENT</span><br><span class="line">VALUE   DW      0FFFEH</span><br><span class="line">DIVISOR DW      10000,1000,100,10,1</span><br><span class="line">DATA    ENDS</span><br><span class="line"></span><br><span class="line">CODE    SEGMENT</span><br><span class="line">        ASSUME  CS:CODE,SS:STACK1,DS:DATA</span><br><span class="line">;description</span><br><span class="line">MAIN    PROC</span><br><span class="line">        MOV     AX,DATA</span><br><span class="line">        MOV     DS,AX</span><br><span class="line">        MOV     SI,OFFSET  DIVISOR</span><br><span class="line">        MOV     AX,VALUE</span><br><span class="line">        MOV     CX,5</span><br><span class="line">LP:     XOR     DX,DX ;清空被除数高16位</span><br><span class="line">        DIV     WORD PTR [SI] ;AX&#x3D;AX&#x2F;DIVISOR</span><br><span class="line">        PUSH    DX</span><br><span class="line">        OR      AX,30H ;变成ASCII码</span><br><span class="line">PRINT:  MOV     DL,AL</span><br><span class="line">        MOV     AH,2</span><br><span class="line">        INT     21H</span><br><span class="line">        POP     AX</span><br><span class="line">        ADD     SI,2</span><br><span class="line">        LOOP    LP</span><br><span class="line">EXIT:   MOV     AX,4C00H</span><br><span class="line">        INT     21H</span><br><span class="line">MAIN    ENDP</span><br><span class="line">CODE    ENDS</span><br><span class="line">        END     MAIN</span><br></pre></td></tr></table></figure>
<h4><span id="方法2-例57-不断除以10按顺序所得的余数倒排即为所求">方法2 例5.7 不断除以10，按顺序所得的余数倒排即为所求</span></h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">STACK1  SEGMENT PARA STACK</span><br><span class="line">STACK_AREA  DB  100H    DUP(?)</span><br><span class="line">STACK1  ENDS</span><br><span class="line"></span><br><span class="line">DATA    SEGMENT</span><br><span class="line">VALUE   DW      0FFFEH</span><br><span class="line">DATA    ENDS</span><br><span class="line"></span><br><span class="line">CODE    SEGMENT</span><br><span class="line">        ASSUME  CS:CODE,SS:STACK1,DS:DATA</span><br><span class="line">;description</span><br><span class="line">MAIN    PROC</span><br><span class="line">        MOV     AX,DATA</span><br><span class="line">        MOV     DS,AX</span><br><span class="line">        MOV     CX,5</span><br><span class="line">        MOV     AX,VALUE</span><br><span class="line">        MOV     BX,10</span><br><span class="line">LOOP1:  XOR     DX,DX</span><br><span class="line">        DIV     BX</span><br><span class="line">        PUSH    DX</span><br><span class="line">        LOOP    LOOP1</span><br><span class="line">        MOV     CX,5</span><br><span class="line">LOOP2:  POP     AX</span><br><span class="line">        OR      AX,30H</span><br><span class="line">        MOV     DL,AL</span><br><span class="line">        MOV     AH,2</span><br><span class="line">        INT     21H</span><br><span class="line">        LOOP    LOOP2</span><br><span class="line">EXIT:   MOV     AX,4C00H</span><br><span class="line">        INT     21H</span><br><span class="line">MAIN    ENDP</span><br><span class="line">CODE    ENDS</span><br><span class="line">        END     MAIN</span><br></pre></td></tr></table></figure>
<p>堆栈的出入栈都必须以字为单位！</p>
<p>内存中组织好一个ASCII字符串，串的有效内容后加一个’$'结束字符，就可以利用DOS的9号功能打印字符串。</p>
<p>使用如下方式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MOV	DX,串的首地址</span><br><span class="line">MOV	AH,9</span><br><span class="line">INT	21H</span><br></pre></td></tr></table></figure>
<h4><span id="方法3-例58-不断除以10得到商和余数利用字符串进行输出">方法3 例5.8 不断除以10得到商和余数，利用字符串进行输出</span></h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">STACK1  SEGMENT PARA STACK</span><br><span class="line">STACK_AREA  DB  100H    DUP(?)</span><br><span class="line">STACK1  ENDS</span><br><span class="line"></span><br><span class="line">DATA    SEGMENT</span><br><span class="line">VALUE   DW      0FFFEH</span><br><span class="line">RES     DB 5 DUP(?),&#39;$&#39;</span><br><span class="line">DATA    ENDS</span><br><span class="line"></span><br><span class="line">CODE    SEGMENT</span><br><span class="line">        ASSUME  CS:CODE,SS:STACK1,DS:DATA</span><br><span class="line">;description</span><br><span class="line">MAIN    PROC</span><br><span class="line">        MOV     AX,DATA</span><br><span class="line">        MOV     DS,AX</span><br><span class="line">        MOV     CX,5</span><br><span class="line">        MOV     AX,VALUE</span><br><span class="line">        MOV     BX,10</span><br><span class="line">        MOV     DI,OFFSET RES + 4</span><br><span class="line">LOOP1:  XOR     DX,DX</span><br><span class="line">        DIV     BX</span><br><span class="line">        OR      DX,30H</span><br><span class="line">        MOV     [DI],DL</span><br><span class="line">        DEC     DI</span><br><span class="line">        LOOP    LOOP1</span><br><span class="line">LOOP2:  MOV     DX,OFFSET RES</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        INT     21H</span><br><span class="line">EXIT:   MOV     AX,4C00H</span><br><span class="line">        INT     21H</span><br><span class="line">MAIN    ENDP</span><br><span class="line">CODE    ENDS</span><br><span class="line">        END     MAIN</span><br></pre></td></tr></table></figure>
<h3><span id="多重循环设计-冒泡排序为例">多重循环设计 冒泡排序为例</span></h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line">STACK1  SEGMENT PARA STACK</span><br><span class="line">STACK_AREA  DW  100H  DUP(?)</span><br><span class="line">STACK1  ENDS</span><br><span class="line"></span><br><span class="line">DATA    SEGMENT PARA</span><br><span class="line">TABLEDATA_LEN   DW  16</span><br><span class="line">TABLEDATA       DW  19,37,35,73,20,06,30,07</span><br><span class="line">                DW  20H,17H,0FFFFH,2001,2022,4,29,56</span><br><span class="line">RES     DB  5  DUP(?),20H,&#39;$&#39; ;十进制最多5位，20H表示空格</span><br><span class="line">STR1    DB  &#39;INIT_ARRAY:&#39;,&#39;$&#39;</span><br><span class="line">STR2    DB  &#39;SORTED_ARRAY:&#39;,&#39;$&#39;       </span><br><span class="line"></span><br><span class="line">NEWLINE     DB  0DH,0AH,&#39;$&#39; ;回车换行</span><br><span class="line">DATA    ENDS</span><br><span class="line"></span><br><span class="line">CODE    SEGMENT PARA</span><br><span class="line">        ASSUME CS:CODE,SS:STACK1,DS:DATA</span><br><span class="line">MAIN    PROC    FAR</span><br><span class="line">        MOV     AX,DATA</span><br><span class="line">        MOV     DS,AX</span><br><span class="line"></span><br><span class="line">PRINT_INIT_ARRAY: ;先打印初始的数组</span><br><span class="line">        MOV     DX,OFFSET STR1</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     DX,OFFSET NEWLINE</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     CX,TABLEDATA_LEN</span><br><span class="line">        MOV     SI,OFFSET TABLEDATA</span><br><span class="line">WHILE1: </span><br><span class="line">        PUSH    CX</span><br><span class="line">        MOV     CX,5</span><br><span class="line">        MOV     DI,OFFSET RES+4</span><br><span class="line">        MOV     BX,10</span><br><span class="line">        MOV     AX,[SI]</span><br><span class="line">WHILE2:</span><br><span class="line">        XOR     DX,DX</span><br><span class="line">        DIV     BX</span><br><span class="line">        OR      DL,30H</span><br><span class="line">        MOV     [DI],DL</span><br><span class="line">        DEC     DI</span><br><span class="line">        LOOP    WHILE2</span><br><span class="line">        ;打印字符串</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET RES</span><br><span class="line">        INT     21H</span><br><span class="line">        INC     SI</span><br><span class="line">        INC     SI</span><br><span class="line">        POP     CX</span><br><span class="line">        LOOP    WHILE1</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET NEWLINE</span><br><span class="line">        INT     21H</span><br><span class="line"></span><br><span class="line">BUBBLE_SORT: ;冒泡排序</span><br><span class="line">        MOV     CX,TABLEDATA_LEN</span><br><span class="line">SORT_LOOP1: ;外层循环</span><br><span class="line">        PUSH    CX</span><br><span class="line">        MOV     SI,OFFSET TABLEDATA</span><br><span class="line">        MOV     BX,0 ;BX作为一个标志变量，如果一次内层循环后仍然为0，说明已经是按照顺序排列了</span><br><span class="line">SORT_LOOP2: ;内层循环   </span><br><span class="line">        MOV     AX,[SI]</span><br><span class="line">        CMP     AX,[SI+2]</span><br><span class="line">        JNA     CONTINUE     </span><br><span class="line">SWAP:   </span><br><span class="line">        MOV     BX,1</span><br><span class="line">        XCHG    AX,[SI+2]</span><br><span class="line">        MOV     [SI],AX</span><br><span class="line">CONTINUE:</span><br><span class="line">        ADD     SI,2</span><br><span class="line">        LOOP    SORT_LOOP2</span><br><span class="line">        POP     CX</span><br><span class="line">        CMP     BX,0</span><br><span class="line">        JZ      PRINT_SORTED_ARRAY</span><br><span class="line">        LOOP    SORT_LOOP1</span><br><span class="line"></span><br><span class="line">PRINT_SORTED_ARRAY: ;打印排序后的数组</span><br><span class="line">        MOV     DX,OFFSET STR2</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     DX,OFFSET NEWLINE</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     CX,TABLEDATA_LEN</span><br><span class="line">        MOV     SI,OFFSET TABLEDATA</span><br><span class="line">WHILE3: </span><br><span class="line">        PUSH    CX</span><br><span class="line">        MOV     CX,5</span><br><span class="line">        MOV     DI,OFFSET RES+4</span><br><span class="line">        MOV     BX,10</span><br><span class="line">        MOV     AX,[SI]</span><br><span class="line">WHILE4:</span><br><span class="line">        XOR     DX,DX</span><br><span class="line">        DIV     BX</span><br><span class="line">        OR      DL,30H</span><br><span class="line">        MOV     [DI],DL</span><br><span class="line">        DEC     DI</span><br><span class="line">        LOOP    WHILE4</span><br><span class="line">        ;打印字符串</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET RES</span><br><span class="line">        INT     21H</span><br><span class="line">        INC     SI</span><br><span class="line">        INC     SI</span><br><span class="line">        POP     CX</span><br><span class="line">        LOOP    WHILE3</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET NEWLINE</span><br><span class="line">        INT     21H</span><br><span class="line"></span><br><span class="line">EXIT:   MOV     AX,4C00H</span><br><span class="line">        INT     21H</span><br><span class="line">MAIN    ENDP</span><br><span class="line">CODE    ENDS</span><br><span class="line">        END     MAIN</span><br></pre></td></tr></table></figure>
<h2><span id="54-串处理">5.4 串处理</span></h2>
<h3><span id="串处理指令">串处理指令</span></h3>
<p>典型的寻址过程是：DS:[SI]==&gt;ES:[DI]</p>
<p>目的串——ES[DI] 即从这里取出</p>
<p>源串——DS[SI] 即写入这里</p>
<h4><span id="取串指令lodsblodsw">取串指令LODSB/LODSW</span></h4>
<p>LODSB将源串DS:[SI]的一个字节或一个字取到AL或AX中。</p>
<p>操作完后，按照DF的值自动修改SI的值。</p>
<p>DF=0则对SI+1或+2（根据字节或字）</p>
<p>DF=1则对SI-1或-2（根据字节或字）</p>
<h4><span id="存串指令stosbstosw">存串指令STOSB/STOSW</span></h4>
<p>将AL或AX中的一个字节或字存入ES:[DI]中</p>
<p>操作完后，根据DF的值修改DI</p>
<p>DF=0则对DI +1或+2（根据字节或字）</p>
<p>DF=1则对DI -1或-2（根据字节或字）</p>
<h4><span id="串传送指令movsbmovsw">串传送指令MOVSB/MOVSW</span></h4>
<p>将DS:[SI]中的字节或字传送到ES:[DI]中</p>
<p>操作完后，根据DF的值同时修改SI与DI</p>
<p>DF=0则SI与DI都+1或+2</p>
<p>DF=1则SI与DI都-1或-2</p>
<h4><span id="串比较指令cmpsbcmpsw">串比较指令CMPSB/CMPSW</span></h4>
<p>比较源串DS:[SI]与目的串ES:[DI]中的一个字节或一个字，与CMP类似</p>
<p>比较时，用源串中一个字节（字）减去目的串中一个字节（字）</p>
<p>不保留结果但影响标志寄存器，如CF,SF,ZF</p>
<p>执行完后根据DF值修改SI/DI</p>
<h4><span id="串扫描指令scasbscasw">串扫描指令SCASB/SCASW</span></h4>
<p>在ES:[DI]中指定的目的串中扫描是否含有AL或AX中指定的字节或字，用AL或AX的内容减去ES:[DI]中的字节或字，比较结果影响标志寄存器。</p>
<p>执行完后根据DF值修改SI/DI</p>
<h4><span id="重复前缀指令rep">重复前缀指令REP</span></h4>
<p>格式：REP 串操作指令</p>
<p>比如：REP	MOVSB</p>
<p>类似LOOP</p>
<p>每执行一次串操作指令就CX-1，直到CX为0时停止</p>
<h4><span id="条件重复前缀指令reperepz-repnerepnz">条件重复前缀指令REPE/REPZ REPNE/REPNZ</span></h4>
<h5><span id="reperepz">REPE/REPZ</span></h5>
<p>当CX==0或ZF==0时退出串操作指令，即运算结果不为0时退出</p>
<p>CX-=1</p>
<h5><span id="repnerepnz">REPNE/REPNZ</span></h5>
<p>CX==0或ZF==1时退出串操作指令，即运算结果为0时退出</p>
<p>CX-=1</p>
<h4><span id="修改df方向标志命令cldstd">修改DF方向标志命令CLD，STD</span></h4>
<p>CLD清除DF标志寄存器，使得DF=0</p>
<p>STD设置DF标志寄存器，是的DF=1</p>
<h3><span id="串处理指令应用">串处理指令应用</span></h3>
<p>使用串处理的步骤</p>
<ul>
<li>根据需要设置DS,SI,ES,DI</li>
<li>设置DF标志</li>
<li>设置CX值</li>
<li>选用REP，REPZ/REPE、REPNZ/REPNE</li>
</ul>
<h4><span id="例510-514">例5.10-5.14</span></h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br></pre></td><td class="code"><pre><span class="line">STACK1  SEGMENT PARA    STACK</span><br><span class="line">STACK_AREA  DW  100H    DUP(?)</span><br><span class="line">STACK1  ENDS</span><br><span class="line"></span><br><span class="line">DATA    SEGMENT PARA</span><br><span class="line">LEN     DW  8</span><br><span class="line">BUFF    DB  &#39;19373573&#39;,&#39;$&#39;</span><br><span class="line">BUFF1   DB  &#39;20131839&#39;,&#39;$&#39;</span><br><span class="line">BUFF2   DB  &#39;33839230&#39;,&#39;$&#39;</span><br><span class="line">BUFF3   DB  &#39;abcdEFZc&#39;,&#39;$&#39;</span><br><span class="line">BUFF4   DB  &#39;AKSHBASB&#39;,&#39;$&#39;</span><br><span class="line">BUFF5   DB  &#39;ASNSODOJ&#39;,&#39;$&#39;</span><br><span class="line">STR1    DB  &#39;P_5_10:&#39;,&#39;$&#39;</span><br><span class="line">STR2    DB  &#39;P_5_11:&#39;,&#39;$&#39;</span><br><span class="line">STR3    DB  &#39;P_5_12:&#39;,&#39;$&#39;</span><br><span class="line">STR4    DB  &#39;P_5_13:&#39;,&#39;$&#39;</span><br><span class="line">STR5    DB  &#39;P_5_14:&#39;,&#39;$&#39;</span><br><span class="line">BIG_STR DB  &#39;BUFF4&gt;BUFF5&#39;,&#39;$&#39;</span><br><span class="line">SMALL_STR DB &#39;BUFF4&lt;BUFF5&#39;,&#39;$&#39;</span><br><span class="line">NEW_LINE    DB 0DH,0AH,&#39;$&#39;</span><br><span class="line">FIND_STR  DB &#39;BUFF5 CONTAINS A&#39;,&#39;$&#39;</span><br><span class="line">DATA    ENDS</span><br><span class="line"></span><br><span class="line">CODE    SEGMENT PARA</span><br><span class="line">        ASSUME  CS:CODE,DS:DATA,SS:STACK1</span><br><span class="line">MAIN    PROC    FAR</span><br><span class="line">        ;INIT</span><br><span class="line">        MOV     AX,DATA</span><br><span class="line">        MOV     DS,AX</span><br><span class="line">P_5_10:</span><br><span class="line">        ;PRINT</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET STR1</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET NEW_LINE</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET BUFF</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET NEW_LINE</span><br><span class="line">        INT     21H</span><br><span class="line">        ;SAVE ES AND SET ES TO DS</span><br><span class="line">        PUSH    ES</span><br><span class="line">        PUSH    DS</span><br><span class="line">        POP     ES</span><br><span class="line">        ;STOSB</span><br><span class="line">        CLD</span><br><span class="line">        MOV     CX,LEN</span><br><span class="line">        MOV     DI,OFFSET BUFF</span><br><span class="line">        MOV     AL,0</span><br><span class="line">        REP     STOSB  </span><br><span class="line">        POP     ES </span><br><span class="line">        ;PRINT</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET BUFF</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET NEW_LINE</span><br><span class="line">        INT     21H</span><br><span class="line">P_5_11:</span><br><span class="line">        ;PRINT</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET STR2</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET NEW_LINE</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET BUFF1</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET NEW_LINE</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET BUFF2</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET NEW_LINE</span><br><span class="line">        INT     21H</span><br><span class="line">        ;SAVE ES AND SET ES TO DS</span><br><span class="line">        PUSH    ES</span><br><span class="line">        PUSH    DS</span><br><span class="line">        POP     ES</span><br><span class="line">        ;MOVSB</span><br><span class="line">        CLD</span><br><span class="line">        MOV     CX,LEN</span><br><span class="line">        MOV     DI,OFFSET BUFF2</span><br><span class="line">        MOV     SI,OFFSET BUFF1</span><br><span class="line">        REP     MOVSB</span><br><span class="line">        POP     ES </span><br><span class="line">        ;PRINT</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET BUFF1</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET NEW_LINE</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET BUFF2</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET NEW_LINE</span><br><span class="line">        INT     21H</span><br><span class="line">P_5_12:</span><br><span class="line">        ;PRINT</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET STR3</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET NEW_LINE</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET BUFF3</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET NEW_LINE</span><br><span class="line">        INT     21H</span><br><span class="line">        ;SAVE ES AND SET ES TO DS</span><br><span class="line">        PUSH    ES</span><br><span class="line">        PUSH    DS</span><br><span class="line">        POP     ES</span><br><span class="line">        ;STOSB,LODSB</span><br><span class="line">        CLD</span><br><span class="line">        MOV     CX,LEN</span><br><span class="line">        MOV     DI,OFFSET BUFF3</span><br><span class="line">        MOV     SI,OFFSET BUFF3</span><br><span class="line">WHILE1:  </span><br><span class="line">        LODSB</span><br><span class="line">        CMP     AL,&#39;a&#39;</span><br><span class="line">        JB      NEXT     </span><br><span class="line">        CMP     AL,&#39;z&#39;</span><br><span class="line">        JG      NEXT</span><br><span class="line">        SUB     AL,20H</span><br><span class="line">        STOSB</span><br><span class="line">        JMP     NEXT1</span><br><span class="line">NEXT:   INC     DI</span><br><span class="line">NEXT1:  LOOP    WHILE1</span><br><span class="line">        POP     ES </span><br><span class="line">        ;PRINT</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET BUFF3</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET NEW_LINE</span><br><span class="line">        INT     21H</span><br><span class="line"></span><br><span class="line">P_5_13:</span><br><span class="line">        ;PRINT</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET STR4</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET NEW_LINE</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET BUFF4</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET NEW_LINE</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET BUFF5</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET NEW_LINE</span><br><span class="line">        INT     21H</span><br><span class="line">        ;SAVE ES AND SET ES TO DS</span><br><span class="line">        PUSH    ES</span><br><span class="line">        PUSH    DS</span><br><span class="line">        POP     ES</span><br><span class="line">        ;CMPSB</span><br><span class="line">        CLD</span><br><span class="line">        MOV     CX,LEN</span><br><span class="line">        MOV     DI,OFFSET BUFF5</span><br><span class="line">        MOV     SI,OFFSET BUFF4</span><br><span class="line">        JMP     WHILE3</span><br><span class="line">WHILE2: ;WAY1</span><br><span class="line">        CMPSB   </span><br><span class="line">        JB      SMALLER</span><br><span class="line">        JG      BIGGER</span><br><span class="line">        LOOP    WHILE2</span><br><span class="line">WHILE3: ;WAY2</span><br><span class="line">        REPZ    CMPSB</span><br><span class="line">        JB      SMALLER</span><br><span class="line">        JA      BIGGER   </span><br><span class="line">BIGGER: ;SRC&gt;DST</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET   BIG_STR</span><br><span class="line">        INT     21H</span><br><span class="line">        JMP     END_P_5_13</span><br><span class="line">SMALLER: ;SRC&lt;DST</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET   SMALL_STR</span><br><span class="line">        INT     21H</span><br><span class="line">END_P_5_13:</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET NEW_LINE</span><br><span class="line">        INT     21H</span><br><span class="line"></span><br><span class="line">P_5_14: ;跑不通，原因不详</span><br><span class="line">        PUSH    ES</span><br><span class="line">        PUSH    DS</span><br><span class="line">        POP     ES</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET STR5</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     DX,OFFSET NEW_LINE</span><br><span class="line">        INT     21H</span><br><span class="line">        MOV     AL,&#39;A&#39;</span><br><span class="line">        CLD</span><br><span class="line">        MOV     CX,LEN</span><br><span class="line">        MOV     DI,OFFSET BUFF5</span><br><span class="line">        REPNZ   SCASB</span><br><span class="line">        POP     ES</span><br><span class="line">        JNZ     EXIT</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        MOV     AX,OFFSET BUFF5</span><br><span class="line">        INT     21H</span><br><span class="line">EXIT:   MOV     AX,4C00H</span><br><span class="line">        INT     21H</span><br><span class="line">MAIN    ENDP</span><br><span class="line">CODE    ENDS</span><br><span class="line">        END     MAIN</span><br></pre></td></tr></table></figure>
<h1><span id="第6章-子程序结构">第6章 子程序结构</span></h1>
<h2><span id="61-子程序设计方法">6.1 子程序设计方法</span></h2>
<h3><span id="过程定义">过程定义</span></h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PROC_NAME	PROC	FAR ;默认为NEAR</span><br><span class="line">	...</span><br><span class="line">PROC_NAME	ENDP</span><br></pre></td></tr></table></figure>
<h3><span id="过程调用与返回">过程调用与返回</span></h3>
<p>使用CALL进行调用，RET返回调用者程序</p>
<p>CALL和RET都有FAR和NEAR属性</p>
<p>段内调用和返回使用NEAR，段间调用与返回使用FAR</p>
<p>段间返回的RET指令经汇编后会变成RETF</p>
<p>如果调用指令和所定义过程在<strong>同一代码段</strong>，则定义为<strong>NEAR</strong>属性，可省略NEAR</p>
<p>调用指令与所定义过程<strong>不在一个代码段</strong>，则定义为<strong>FAR</strong>属性。</p>
<h2><span id="62-编写子程序注意事项">6.2 编写子程序注意事项</span></h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">DISPLAY_STRING  PROC     FAR</span><br><span class="line">        PUSH    AX</span><br><span class="line">        MOV     AH,2</span><br><span class="line">        INT     21H</span><br><span class="line">        POP     AX</span><br><span class="line">        RET</span><br><span class="line">DISPLAY_STRING  ENDP</span><br><span class="line">DISPLAY_CHAR    PROC     FAR</span><br><span class="line">        PUSH    AX</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        INT     21H</span><br><span class="line">        PUSH    DX</span><br><span class="line">        MOV     DX,OFFSET NEW_LINE ;打印换行符</span><br><span class="line">        MOV     AH,9</span><br><span class="line">        INT     21H</span><br><span class="line">        POP     DX</span><br><span class="line">        POP     AX</span><br><span class="line">        RET</span><br><span class="line">DISPLAY_CHAR    ENDP</span><br></pre></td></tr></table></figure>
<h3><span id="确定接口参数与传参">确定接口参数与传参</span></h3>
<ul>
<li>使用寄存器</li>
<li>使用约定的内存变量</li>
<li>使用堆栈</li>
</ul>
<h1><span id="第7章-高级汇编语言技术">第7章 高级汇编语言技术</span></h1>
<h2><span id="71-宏">7.1 宏</span></h2>
<h3><span id="宏定义">宏定义</span></h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">宏名	MACRO	[形参表]</span><br><span class="line">	 ...</span><br><span class="line">	 ENDM</span><br></pre></td></tr></table></figure>
<h3><span id="例子">例子</span></h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">PRINTCHAR 	MACRO	</span><br><span class="line">			OR	DL,30H</span><br><span class="line">			MOV	AH,2</span><br><span class="line">			INT	21H</span><br><span class="line">			ENDM</span><br><span class="line">PRINTCHAR1	MACRO	REG</span><br><span class="line">			MOV		DL,REG</span><br><span class="line">			OR		DL,30H</span><br><span class="line">			MOV		AH,2</span><br><span class="line">			INT		21H</span><br><span class="line">			ENDM</span><br><span class="line">PRINCHARS   MACRO REG1,REG2</span><br><span class="line">            MOV DL,REG1</span><br><span class="line">            MOV AH,2</span><br><span class="line">            INT 21H</span><br><span class="line">            MOV DL,REG2</span><br><span class="line">            MOV AH,2</span><br><span class="line">            INT 21H</span><br><span class="line">            ENDM</span><br><span class="line">PRINCHARS 	AL,BL</span><br></pre></td></tr></table></figure>
<h2><span id="72-结构">7.2 结构</span></h2>
<h3><span id="定义">定义</span></h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">结构名	STRUC</span><br><span class="line">...</span><br><span class="line">结构名	ENDS</span><br><span class="line"></span><br><span class="line">;如,描述学生</span><br><span class="line">STUDENT	STRUC</span><br><span class="line">CLASS	DB	8 DUP(?) ;班号</span><br><span class="line">NUM		DW	?		 ;学号</span><br><span class="line">NAME1	DB	20 DUP(? ) ;名字</span><br><span class="line">STEDENT	ENDS</span><br></pre></td></tr></table></figure>
<h3><span id="结构的预置与内存分配">结构的预置与内存分配</span></h3>
<h4><span id="结构预置定义">结构预置定义</span></h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">结构变量名	结构名 	&lt;字段值表&gt;</span><br><span class="line">STUDENT1	STUDENT	&lt;&#39;19373000&#39;,01,&#39;SHARP&#39;&gt;</span><br><span class="line">STUDENTS	STUDENT	28	DUP(&lt;&#39;19373000&#39;,01,&#39;SHARP&#39;&gt;)</span><br></pre></td></tr></table></figure>
<h4><span id="访问结构变量及其字段">访问结构变量及其字段</span></h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">MOV	CX,TYPE		STUDENT1	;CX&#x3D;30 是结构体的长度</span><br><span class="line">MOV	BX,OFFSET 	STUDENT1	;BX&#x3D;STUDENT1的偏移值</span><br><span class="line">MOV	CX,LENGTH 	STUDENT1  	;CX&#x3D;1</span><br><span class="line">MOV	CX,LENGTH 	STUDENTS	;CX&#x3D;28</span><br><span class="line">MOV	CX,SIZE		STUDENTS	;CX&#x3D;28*30</span><br><span class="line"></span><br><span class="line">MOV	SI,OFFSET	STUDENT1.NUM ;获得结构体中NUM变量的首地址</span><br><span class="line">MOV	AX,[SI].NUM[1]</span><br><span class="line">MOV	AX,STUDENT1.NUM[1]</span><br><span class="line">MOV	AX,STUDENT1.NUM+1</span><br></pre></td></tr></table></figure>
<h1><span id="第8章-输入输出程序设计">第8章 输入/输出程序设计</span></h1>
<h2><span id="81-输入输出指令">8.1 输入/输出指令</span></h2>
<p>Intel 8086/8088内存寻址空间为1MB，而I/O空间为64KB</p>
<h3><span id="inout指令">IN/OUT指令</span></h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">IN OP1,OP2 ;OP1为AL&#x2F;AX OP2为输入端口地址或DX(用来存放端口地址)</span><br><span class="line">OUT OP1,OP2 ;OP1为输出端口地址或DX，OP2为AL&#x2F;AX</span><br></pre></td></tr></table></figure>
<h2><span id="82-输入输出控制方式">8.2 输入/输出控制方式</span></h2>
<h3><span id="程序控制的io方式">程序控制的I/O方式</span></h3>
<h4><span id="立即传送方式">立即传送方式</span></h4>
<h4><span id="程序查询方法">程序查询方法</span></h4>
<h3><span id="中断控制方式">中断控制方式</span></h3>
<h3><span id="直接内存访问方式-dma">直接内存访问方式 DMA</span></h3>
<h2><span id="83-中断控制方式">8.3 中断控制方式</span></h2>
<h3><span id="中断">中断</span></h3>
<h3><span id="中断源">中断源</span></h3>
<h4><span id="内中断">内中断</span></h4>
<h4><span id="外中断">外中断</span></h4>
<h3><span id="中断优先级">中断优先级</span></h3>
<h3><span id="中断向量表">中断向量表</span></h3>
<h3><span id="中断过程">中断过程</span></h3>
<h2><span id="84-编写中断处理程序">8.4 编写中断处理程序</span></h2>

                
                <hr>
                <!-- Pager -->
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2022/05/15/动手学深度学习笔记-提升篇/" data-toggle="tooltip" data-placement="top" title="动手学深度学习笔记-提升篇">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2022/04/13/NLP-Intro-Learning-Note/" data-toggle="tooltip" data-placement="top" title="NLP入门学习笔记">Next Post &rarr;</a>
                    </li>
                    
                </ul>

                <!-- tip start -->
                

                
                <!-- tip end -->

                <!-- Music start-->
                
                <!-- Music end -->

                <!-- Sharing -->
                
                <div class="social-share"  data-wechat-qrcode-helper="" align="center"></div>
                <!--  css & js -->
                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css">
                <script src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>
                
                <!-- Sharing -->

                <!-- gitment start -->
                
                <!-- gitment end -->

                <!-- 来必力City版安装代码 -->
                
                <!-- City版安装代码已完成 -->

                <!-- disqus comment start -->
                
                <!-- disqus comment end -->
            </div>
            
            <!-- Tabe of Content -->
            <!-- Table of Contents -->

    
      
        <aside id="sidebar">
          <div id="toc" class="toc-article">
          <strong class="toc-title">Contents</strong>
          
            
              <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#"><span class="toc-nav-text">第3章 寻址方式与指令系统</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">3.1 指令格式</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">3.2 寻址方式</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">3.3 指令系统</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#"><span class="toc-nav-text">第4章 汇编语言程序格式</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">4.1 分段式程序结构</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">4.2 定义程序结构的伪指令</span></a></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">4.3 数据定义与内存分配</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">常数与常量</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">变量与变量定义</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">汇编，链接，运行</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">调试与DEBUG</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#"><span class="toc-nav-text">第5章 分支与循环程序设计</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">5.1 顺序程序设计</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">例题5.1 将一个25行，80列的数组的第y行，第x列元素的第i位置1</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">例题5.2 用查表方式将一位十六进制数转换成相应ascii码</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">5.2 分支程序设计</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">例5.3 删除数组中目标元素</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">例5.4：跳转表</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">5.3 循环程序设计</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">与CX搭配使用的循环用法</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">例5.5：内存中的一个字（二进制数）转换为十六进制数，并在屏幕上显示出来</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">将内存中一个字（二进制或十六进制数）转换成十进制数的ASCII码，并显示出来</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">方法1 例5.6 依次除以10000，1000，100，10，1 得到商</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">方法2 例5.7 不断除以10，按顺序所得的余数倒排即为所求</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">方法3 例5.8 不断除以10得到商和余数，利用字符串进行输出</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">多重循环设计 冒泡排序为例</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">5.4 串处理</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">串处理指令</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">取串指令LODSB&#x2F;LODSW</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">存串指令STOSB&#x2F;STOSW</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">串传送指令MOVSB&#x2F;MOVSW</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">串比较指令CMPSB&#x2F;CMPSW</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">串扫描指令SCASB&#x2F;SCASW</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">重复前缀指令REP</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">条件重复前缀指令REPE&#x2F;REPZ REPNE&#x2F;REPNZ</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#"><span class="toc-nav-text">REPE&#x2F;REPZ</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#"><span class="toc-nav-text">REPNE&#x2F;REPNZ</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">修改DF方向标志命令CLD，STD</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">串处理指令应用</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">例5.10-5.14</span></a></li></ol></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#"><span class="toc-nav-text">第6章 子程序结构</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">6.1 子程序设计方法</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">过程定义</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">过程调用与返回</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">6.2 编写子程序注意事项</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">确定接口参数与传参</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#"><span class="toc-nav-text">第7章 高级汇编语言技术</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">7.1 宏</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">宏定义</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">例子</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">7.2 结构</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">定义</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">结构的预置与内存分配</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">结构预置定义</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">访问结构变量及其字段</span></a></li></ol></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#"><span class="toc-nav-text">第8章 输入&#x2F;输出程序设计</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">8.1 输入&#x2F;输出指令</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">IN&#x2F;OUT指令</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">8.2 输入&#x2F;输出控制方式</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">程序控制的I&#x2F;O方式</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">立即传送方式</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">程序查询方法</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">中断控制方式</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">直接内存访问方式 DMA</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">8.3 中断控制方式</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">中断</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">中断源</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">内中断</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#"><span class="toc-nav-text">外中断</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">中断优先级</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">中断向量表</span></a></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#"><span class="toc-nav-text">中断过程</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#"><span class="toc-nav-text">8.4 编写中断处理程序</span></a></li></ol></li></ol>
            
          
          </div>
        </aside>
      
    

                
            <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                       
                          <a class="tag" href="/tags/#assembly" title="assembly">assembly</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>FRIENDS</h5>
                <ul class="list-inline">

                    
                        <li><a href="https://roife.github.io" target="_blank">Roife</a></li>
                    
                        <li><a href="https://coekjan.cn" target="_blank">Coekjan</a></li>
                    
                        <li><a href="https://www.dusign.net/" target="_blank">Dusign</a></li>
                    
                </ul>
                
            </div>
        </div>
    </div>
</article>
<script src="https://utteranc.es/client.js"
        repo="buaadreamer/buaadreamer.github.io"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>



<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'hover',
          placement: 'left',
          icon: 'ℬ'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>


<style  type="text/css">
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">

                
                    <li>
                        <a target="_blank"  href="https://github.com/BUAADreamer">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                

                

                

                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; BUAADreamer 2022 
                    <br>
                    Powered by 
                    <a href="https://github.com/dusign/hexo-theme-snail" target="_blank" rel="noopener">
                        <i>hexo-theme-snail</i>
                    </a> | 
                    <iframe name="star" style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0"
                        width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=dusign&repo=hexo-theme-snail&type=star&count=true">
                    </iframe>
                </p>
            </div>
        </div>
    </div>

</footer>

<!-- jQuery -->

<script src="/js/jquery.min.js"></script>


<!-- Bootstrap Core JavaScript -->

<script src="/js/bootstrap.min.js"></script>


<!-- Custom Theme JavaScript -->

<script src="/js/hux-blog.min.js"></script>


<!-- Search -->

<script src="/js/search.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("https://BUAADreamer.top/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-XXXXXXXX-X';
    var _gaDomain = 'yoursite';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>




<!-- Baidu Tongji -->


<!-- Search -->

    <script type="text/javascript">      
        var search_path = "search.xml";
        if (search_path.length == 0) {
            search_path = "search.xml";
        }
    var path = "/" + search_path;
    searchFunc(path, 'local-search-input', 'local-search-result');
    </script>


<!-- busuanzi -->
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>


  <script src='https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js'></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize({theme: 'forest'});
    }
  </script>








	<a id="rocket" href="#top" class=""></a>
	<script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
    <script type="text/javascript" src="/js/toc.js?v=1.0.0" async=""></script>

    
        <!-- background effects line -->
        

        
            <script type="text/javascript" src="/js/mouse-click.js" content='[&quot;🌱&quot;,&quot;just do it&quot;,&quot;🍀&quot;]' color='[&quot;rgb(121,93,179)&quot; ,&quot;rgb(76,180,231)&quot; ,&quot;rgb(184,90,154)&quot;]'></script>
        

        <!-- background effects end -->
    

    <!--<script size="50" alpha='0.3' zIndex="-999" src="/js/ribbonStatic.js"></script>-->
    
        <script src="/js/ribbonDynamic.js"></script>
    
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>

</html>
